"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{1806:function(e,t,s){s.d(t,{U:function(){return u},Z:function(){return x}});var r=s(7437),n=s(2265),l=s(857),a=s(7138),i=s(2873);function o(e){let{open:t,onClose:s,onLogout:l,userLabel:a,email:i,schoolId:o}=e;if((0,n.useEffect)(()=>{function e(e){"Escape"===e.key&&s()}return t&&document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,s]),!t)return null;let d=(a||i||"U").slice(0,1).toUpperCase();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-[90] bg-black/40 backdrop-blur-[2px]",onClick:s}),(0,r.jsxs)("div",{className:"fixed right-4 top-16 z-[100] w-[360px] sm:w-[380px] rounded-[1.25rem] card border border-neutral-200/60 overflow-hidden shadow-[var(--shadow-soft)]",onClick:e=>e.stopPropagation(),role:"dialog","aria-modal":"true",children:[(0,r.jsxs)("div",{className:"relative px-4 py-3 bg-neutral-900/5 dark:bg-white/5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-[--color-brand] text-white font-semibold",children:d}),(0,r.jsxs)("div",{className:"min-w-0",children:[i&&(0,r.jsx)("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:i}),(0,r.jsx)("div",{className:"text-sm font-medium truncate",children:a||"User"})]})]}),(0,r.jsx)("button",{onClick:s,className:"absolute right-3 top-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200","aria-label":"Close",children:"✕"})]}),(0,r.jsxs)("div",{className:"px-5 pt-4 pb-3",children:[(0,r.jsxs)("div",{className:"text-lg font-semibold",children:["Hi",a?", ".concat(a.split(" ")[0],"!"):"!"]}),(0,r.jsx)("button",{className:"mt-3 btn-primary w-full rounded-xl py-2.5",onClick:()=>alert("Manage account (stub)"),children:"Manage your Account"})]}),(0,r.jsx)("div",{className:"mx-4 mb-3 rounded-2xl bg-neutral-100 dark:bg-neutral-800 p-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"text-xl leading-none",children:"\uD83C\uDFE0"}),(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("div",{className:"font-medium",children:"Set your school & year"}),(0,r.jsx)("div",{className:"text-neutral-600 dark:text-neutral-400",children:"Pick active school and academic year for better results."}),(0,r.jsxs)("div",{className:"mt-2 flex gap-3",children:[(0,r.jsx)("button",{className:"btn rounded-lg px-3 py-1.5 hover:bg-neutral-200 dark:hover:bg-neutral-700",children:"Dismiss"}),(0,r.jsx)("button",{className:"link-subtle",children:"Open settings"})]})]})]})}),(0,r.jsx)("div",{className:"px-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsx)("button",{className:"btn rounded-xl px-3 py-2 bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700",onClick:()=>alert("Add account (stub)"),children:"+ Add account"}),(0,r.jsx)("button",{className:"btn rounded-xl px-3 py-2 bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700",onClick:()=>{s(),l()},children:"Sign out"})]})}),(0,r.jsx)("div",{className:"mt-3 px-2 pb-2",children:(0,r.jsxs)("ul",{className:"grid gap-2",children:[(0,r.jsx)("li",{children:(0,r.jsxs)("button",{className:"w-full text-left rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800",children:["\uD83D\uDD0E ",(0,r.jsx)("span",{className:"ml-2",children:"Search history"}),(0,r.jsx)("span",{className:"float-right text-xs text-neutral-500",children:"Not saving"})]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("button",{className:"w-full text-left rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800",children:["\uD83D\uDCC1 ",(0,r.jsx)("span",{className:"ml-2",children:"Saves & Collections"})]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("button",{className:"w-full text-left rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800",children:["✨ ",(0,r.jsx)("span",{className:"ml-2",children:"Search personalization"})]})}),(0,r.jsxs)("li",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("button",{className:"rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 text-left",children:["\uD83D\uDEE1️ ",(0,r.jsx)("span",{className:"ml-2",children:"SafeSearch"}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 ml-7 -mt-1",children:"Blurring on"})]}),(0,r.jsxs)("button",{className:"rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 text-left",children:["\uD83C\uDF10 ",(0,r.jsx)("span",{className:"ml-2",children:"Language"}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 ml-7 -mt-1",children:"English"})]})]}),(0,r.jsxs)("li",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("button",{className:"rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 text-left",children:["⚙️ ",(0,r.jsx)("span",{className:"ml-2",children:"More settings"})]}),(0,r.jsxs)("button",{className:"rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 text-left",children:["❔ ",(0,r.jsx)("span",{className:"ml-2",children:"Help"})]})]})]})}),(0,r.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400 border-t border-neutral-200/70 dark:border-white/10",children:[(0,r.jsx)("div",{children:"Privacy Policy"}),(0,r.jsx)("div",{children:"Terms of Service"})]})]})]})}var d=s(7109);let c=new Set,u={send(e){c.forEach(t=>t(e))},on:e=>(c.add(e),()=>{c.delete(e)})};function x(){let{token:e,active_school_id:t,logout:s}=(0,l.a)(),[c,x]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),[f,b]=(0,n.useState)(""),[g,v]=(0,n.useState)(""),[p,j]=(0,n.useState)(!1),[N,k]=(0,n.useState)(!0),w=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=()=>{j(window.innerWidth<1024)},t=e=>{let{collapsed:t,isMobile:s}=e.detail;k(t),j(s)};return e(),window.addEventListener("resize",e),window.addEventListener("sidebarStateChange",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("sidebarStateChange",t)}},[]);let y=(0,n.useMemo)(()=>(function(e){if(!e)return null;try{var t;let s=null===(t=e.split(".")[1])||void 0===t?void 0:t.replace(/-/g,"+").replace(/_/g,"/"),r=atob(s);return JSON.parse(r)}catch(e){return null}})(e||void 0),[e]),D=null==y?void 0:y.full_name,C=null==y?void 0:y.email,E=D||C||"Guest",z=function(e,t){var s;let r=(e||"").trim();return r?r.split(/\s+/).slice(0,2).map(e=>{var t;return(null===(t=e[0])||void 0===t?void 0:t.toUpperCase())||""}).join("")||"U":t&&(null===(s=t[0])||void 0===s?void 0:s.toUpperCase())||"U"}(D,C),S=null!=t?t:null==y?void 0:y.active_school_id,_=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),console.log("\uD83C\uDF54 HeaderBar hamburger clicked!"),d.z.send({type:"toggle"})},[]);return(0,n.useEffect)(()=>u.on(e=>{"set"===e.type?(b(e.title),v(e.subtitle||"")):"clear"===e.type&&(b(""),v(""))}),[]),(0,n.useEffect)(()=>{function e(e){w.current&&!w.current.contains(e.target)&&h(!1)}return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,r.jsxs)("header",{className:"relative flex items-center justify-between px-6 py-4 border-b border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[(p||N)&&(0,r.jsx)("button",{onClick:_,className:" flex-shrink-0 p-2 rounded-lg  hover:bg-neutral-100 dark:hover:bg-neutral-800  active:bg-neutral-200 dark:active:bg-neutral-700 transition-colors duration-150  cursor-pointer select-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 ","aria-label":"Toggle sidebar",type:"button",title:"Toggle sidebar",children:(0,r.jsx)(i.Z,{size:20,className:"text-neutral-600 dark:text-neutral-400"})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:f?(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:f}),g&&(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 truncate mt-1",children:g})]}):(0,r.jsx)("div",{className:"h-6"})})]}),(0,r.jsx)("div",{className:"flex items-center flex-shrink-0",children:e?(0,r.jsxs)("div",{className:"relative",ref:w,children:[(0,r.jsx)("button",{onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onClick:()=>x(!0),className:"inline-flex h-10 w-10 items-center justify-center  rounded-full bg-[--color-brand] text-white font-semibold text-sm shadow-lg hover:shadow-xl ring-2 ring-[--color-brand]/30 dark:ring-[--color-brand]/40 border-2 border-[--color-brand-light]/50 hover:scale-105 active:scale-95 transition-all duration-200 ease-out","aria-label":"User menu",title:E,children:z}),m&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 card px-3 py-2 text-xs min-w-[200px] z-50",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[(0,r.jsx)("div",{className:"font-medium truncate",children:E}),C&&(0,r.jsx)("div",{className:"text-neutral-600 dark:text-neutral-400 truncate",children:C})]}),(0,r.jsx)(o,{open:c,onClose:()=>x(!1),onLogout:s,userLabel:E,email:C||void 0,schoolId:S})]}):(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,r.jsx)(a.default,{className:"link-subtle",href:"/login",children:"Login"}),(0,r.jsx)(a.default,{className:"link-subtle",href:"/signup",children:"Sign up"})]})})]})}},7109:function(e,t,s){s.d(t,{z:function(){return y},Z:function(){return D}});var r=s(7437),n=s(2265),l=s(6463),a=s(857),i=s(7138),o=s(500),d=s(7589),c=s(4258),u=s(4207),x=s(1240),m=s(2023),h=s(7390),f=s(497),b=s(6780),g=s(2873),v=s(518),p=s(9896),j=s(9581);function N(e){let{collapsed:t,onCollapse:s,isMobile:N=!1}=e,[k,w]=(0,n.useState)(!1),y=(0,n.useRef)(null),{token:D,logout:C,isAuthenticated:E,user:z}=(0,a.a)(),S=(0,l.usePathname)(),_=(0,l.useRouter)(),L=(0,n.useMemo)(()=>(function(e){if(!e)return null;try{var t;let s=null===(t=e.split(".")[1])||void 0===t?void 0:t.replace(/-/g,"+").replace(/_/g,"/"),r=atob(s);return JSON.parse(r)}catch(e){return null}})(D||void 0),[D]),Z=(null==L?void 0:L.full_name)||(null==z?void 0:z.full_name),M=(null==L?void 0:L.email)||(null==z?void 0:z.email);(null==L?void 0:L.active_school_id)||null==z||z.active_school_id;let U=(null==L?void 0:L.roles)||(null==z?void 0:z.roles)||[],P=(null==L?void 0:L.permissions)||(null==z?void 0:z.permissions)||{},T=Z||M||"Guest",A=function(e,t){var s;let r=(e||"").trim();return r?r.split(/\s+/).slice(0,2).map(e=>{var t;return(null===(t=e[0])||void 0===t?void 0:t.toUpperCase())||""}).join("")||"U":t&&(null===(s=t[0])||void 0===s?void 0:s.toUpperCase())||"U"}(Z,M),W=U.includes("ADMIN")||U.includes("SUPER_ADMIN")||P.is_admin||P.is_super_admin,F=U.includes("TESTER")||P.is_tester,I=P.can_manage_users;P.can_manage_intent_config;let R=P.can_view_logs||W,O=(0,n.useCallback)(()=>{N&&!t&&s(!0)},[t,s,N]);(0,n.useEffect)(()=>{function e(e){y.current&&!y.current.contains(e.target)&&w(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let B=(0,n.useMemo)(()=>{let e=[],t=S.startsWith("/admin"),s=S.startsWith("/tester");return W&&t&&(e.push({id:"admin-dashboard",label:"Admin Dashboard",href:"/admin",icon:(0,r.jsx)(o.Z,{size:18}),section:"admin"},{id:"admin-configuration",label:"Configuration",href:"/admin/configuration",icon:(0,r.jsx)(d.Z,{size:18}),section:"admin"},{id:"admin-intent-config",label:"Intent Config",href:"/admin/intent-config",icon:(0,r.jsx)(c.Z,{size:18}),section:"admin"},{id:"admin-monitoring",label:"Monitoring",href:"/admin/monitoring",icon:(0,r.jsx)(u.Z,{size:18}),section:"admin"}),I&&e.push({id:"admin-users",label:"Users",href:"/admin/users",icon:(0,r.jsx)(x.Z,{size:18}),section:"admin"}),R&&e.push({id:"admin-logs",label:"Logs",href:"/admin/logs",icon:(0,r.jsx)(m.Z,{size:18}),section:"admin"}),e.push({id:"admin-suggestions",label:"Manage Suggestions",href:"/admin/suggestions",icon:(0,r.jsx)(h.Z,{size:18}),section:"admin"})),F&&s&&e.push({id:"tester-dashboard",label:"Tester Dashboard",href:"/tester",icon:(0,r.jsx)(f.Z,{size:18}),section:"tester"},{id:"tester-queue",label:"Problem Queue",href:"/tester/queue",icon:(0,r.jsx)(b.Z,{size:18}),section:"tester"},{id:"tester-suggestions",label:"My Suggestions",href:"/tester/suggestions",icon:(0,r.jsx)(h.Z,{size:18}),section:"tester"}),e},[W,F,I,R,S]),H=(0,n.useMemo)(()=>B.reduce((e,t)=>{let s=t.section||"main";return e[s]||(e[s]=[]),e[s].push(t),e},{}),[B]),V=e=>{_.push(e),O()},q=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),console.log("Hamburger clicked from sidebar"),s(!t)},[t,s]),G=(e,t)=>(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-xs uppercase tracking-wide text-neutral-500 dark:text-neutral-400 font-medium px-4 mb-3",children:e}),(0,r.jsx)("div",{className:"space-y-1",children:t.map(e=>{let t="/admin"===e.href||"/tester"===e.href||"/dashboard"===e.href?S===e.href:S===e.href||S.startsWith(e.href+"/");return(0,r.jsxs)("button",{onClick:()=>V(e.href),className:"\n                  w-full flex items-center px-4 py-3 text-left transition-all duration-200\n                  ".concat(t?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-r-2 border-blue-500":"text-neutral-700 dark:text-neutral-200 hover:bg-neutral-50 dark:hover:bg-neutral-800/50","\n                "),children:[(0,r.jsx)("div",{className:"flex-shrink-0 mr-3",children:e.icon}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("span",{className:"text-sm font-medium",children:e.label})}),e.badge&&(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-0.5",children:e.badge})})]},e.id)})})]});return E?(0,r.jsxs)("aside",{className:"\n        border-r border-neutral-200/70 dark:border-white/10 \n        bg-white dark:bg-neutral-900 \n        flex flex-col h-full transition-all duration-300 ease-in-out\n        ".concat(t?"w-16 cursor-pointer":"w-72","\n        ").concat(N?"shadow-2xl":"","\n      "),onClick:()=>{t&&s(!1)},children:[(0,r.jsx)("div",{className:"px-4 py-4 border-b border-neutral-200/50 dark:border-neutral-700/50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center min-w-0",children:t?(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(j.K7,{size:"sm"})}):(0,r.jsx)(i.default,{href:"/dashboard",className:"flex items-center",children:(0,r.jsx)(j.ZP,{size:"sm",asLink:!1})})}),(0,r.jsx)("button",{onClick:q,className:" p-1.5 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800  transition-colors cursor-pointer z-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 ",title:t?"Expand sidebar":"Collapse sidebar","aria-label":t?"Expand sidebar":"Collapse sidebar",children:!N&&t?(0,r.jsx)(g.Z,{size:18,className:"text-neutral-600 dark:text-neutral-400"}):(0,r.jsx)(v.Z,{size:18,className:"text-neutral-600 dark:text-neutral-400 transition-transform ".concat(t?"rotate-180":"")})})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto py-6",children:t?(0,r.jsx)("div",{className:"space-y-2 px-2",children:B.map(e=>{let t="/admin"===e.href||"/tester"===e.href||"/dashboard"===e.href?S===e.href:S===e.href||S.startsWith(e.href+"/");return(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("button",{onClick:t=>{t.stopPropagation(),V(e.href)},className:"\n                      w-full flex items-center justify-center p-3 rounded-lg transition-all duration-200\n                      ".concat(t?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-neutral-900 dark:hover:text-neutral-100","\n                    "),children:[e.icon,e.badge&&(0,r.jsx)("div",{className:"absolute -top-1 -right-1",children:(0,r.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"})})]}),(0,r.jsxs)("div",{className:" absolute left-full ml-2 px-3 py-2 bg-neutral-900 dark:bg-neutral-100  text-white dark:text-neutral-900 text-sm rounded-md  opacity-0 invisible group-hover:opacity-100 group-hover:visible  transition-all duration-200 pointer-events-none z-50 whitespace-nowrap top-1/2 transform -translate-y-1/2 ",children:[e.label,(0,r.jsx)("div",{className:"absolute right-full top-1/2 transform -translate-y-1/2",children:(0,r.jsx)("div",{className:"border-4 border-transparent border-r-neutral-900 dark:border-r-neutral-100"})})]})]},e.id)})}):(0,r.jsxs)("div",{children:[H.admin&&G("Administration",H.admin),H.tester&&G("Testing",H.tester)]})}),D&&(0,r.jsx)("div",{className:"border-t border-neutral-200/50 dark:border-neutral-700/50 p-4",children:(0,r.jsxs)("div",{className:"relative",ref:y,children:[(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),w(!k)},className:"\n                w-full flex items-center gap-3 p-3 rounded-lg \n                hover:bg-neutral-100 dark:hover:bg-neutral-800 \n                transition-all duration-200\n                ".concat(t?"justify-center":"","\n              "),title:t?"".concat(T).concat(M?" - ".concat(M):""):void 0,children:[(0,r.jsx)("div",{className:" inline-flex h-9 w-9 items-center justify-center  rounded-full text-white font-semibold text-sm shadow-md hover:shadow-lg ring-2 ring-blue-500/20 dark:ring-blue-400/30 transition-all duration-200 flex-shrink-0 ",style:{backgroundColor:"var(--color-brand)"},children:A}),!t&&(0,r.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:T}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:U.length>0?U.join(", "):"User"})]})]}),k&&(0,r.jsxs)("div",{className:"\n                  absolute bg-white dark:bg-neutral-900 rounded-xl \n                  shadow-2xl border border-neutral-200 dark:border-neutral-700 py-2 z-50\n                  ".concat(t?"bottom-0 left-full ml-2 w-56":"bottom-full mb-2 left-0 right-0","\n                "),children:[t&&(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-neutral-200 dark:border-neutral-700",children:[(0,r.jsx)("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-100 truncate",children:T}),M&&(0,r.jsx)("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:M}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate mt-1",children:U.length>0?U.join(", "):"User"})]}),(0,r.jsxs)("button",{onClick:()=>{w(!1),_.push("/settings/profile"),O()},className:"w-full text-left px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800 flex items-center gap-3 transition-colors",children:[(0,r.jsx)(c.Z,{size:16}),"Settings"]}),(0,r.jsxs)("button",{onClick:()=>{C(),w(!1)},className:"w-full text-left px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800 flex items-center gap-3 text-red-600 dark:text-red-400 transition-colors",children:[(0,r.jsx)(p.Z,{size:16}),"Logout"]})]})]})})]}):null}var k=s(1806);let w=new Set,y={send(e){console.log("\uD83D\uDE8C SidebarBus sending command:",e),w.forEach(t=>t(e))},on:e=>(w.add(e),()=>{w.delete(e)})};function D(e){let{children:t}=e,[s,l]=(0,n.useState)(!0),[a,i]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=()=>{let e=window.innerWidth<1024;if(i(e),console.log("\uD83D\uDCF1 Mobile check:",{mobile:e,wasMobile:a,width:window.innerWidth}),e&&!a)console.log("\uD83D\uDCF1 Switching to mobile - collapsing sidebar"),l(!0);else if(!e&&a){let e=localStorage.getItem("sidebar_collapsed");console.log("\uD83D\uDDA5️ Switching to desktop - saved preference:",e),"0"===e&&l(!1)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[a]),(0,n.useEffect)(()=>{let e=localStorage.getItem("sidebar_collapsed");console.log("\uD83D\uDCBE Loading saved sidebar state:",e),"0"!==e||a||l(!1)},[]),(0,n.useEffect)(()=>{let e=new CustomEvent("sidebarStateChange",{detail:{collapsed:s,isMobile:a}});window.dispatchEvent(e),console.log("\uD83D\uDCE1 Dispatching sidebar state:",{collapsed:s,isMobile:a})},[s,a]);let o=e=>{l(t=>{let s=void 0!==e?e:!t;return console.log("\uD83D\uDD04 Toggling sidebar:",{prev:t,next:s,isMobile:a}),a||localStorage.setItem("sidebar_collapsed",s?"1":"0"),s})};return(0,n.useEffect)(()=>(console.log("\uD83D\uDC42 Setting up sidebar bus listener"),y.on(e=>{console.log("\uD83D\uDCE8 Received sidebar command:",e),"toggle"===e.type&&o(),"open"===e.type&&o(!1),"close"===e.type&&o(!0),"auto-collapse"!==e.type||a||s||o(!0)})),[a,s]),console.log("\uD83C\uDFD7️ WorkspaceShell render:",{collapsed:s,isMobile:a}),(0,r.jsx)("div",{className:"h-svh w-full overflow-hidden",children:(0,r.jsxs)("div",{className:"flex-1 overflow-hidden relative h-full",children:[a&&!s&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:()=>o(!0)}),(0,r.jsxs)("div",{className:"relative flex overflow-hidden h-full",children:[(0,r.jsx)("div",{className:"\n            transition-all duration-300 ease-in-out\n            ".concat(a?"fixed left-0 top-0 h-full w-80 z-40 ".concat(s?"-translate-x-full":"translate-x-0"):"relative z-10 ".concat(s?"w-16":"w-auto"),"\n          "),children:(0,r.jsx)(N,{collapsed:s&&!a,onCollapse:o,isMobile:a})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col h-full overflow-hidden",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(k.Z,{})}),(0,r.jsx)("div",{className:"flex-1 min-h-0 overflow-hidden",children:t})]})]})]})})}},9581:function(e,t,s){s.d(t,{D2:function(){return u},K7:function(){return x},ZP:function(){return c}});var r=s(7437),n=s(7138),l=s(3027),a=s(4839);let i=(0,l.j)("flex items-center gap-3",{variants:{size:{sm:"",md:"",lg:""}},defaultVariants:{size:"sm"}}),o=(0,l.j)("relative rounded-xl bg-gradient-to-br from-[#1f7daf] to-[#104f73] grid place-items-center text-white font-bold shadow-lg ring-2 ring-[#1f7daf]/20",{variants:{size:{sm:"h-9 w-9 text-lg",md:"h-12 w-12 text-xl",lg:"h-16 w-16 text-2xl"}},defaultVariants:{size:"sm"}}),d=(0,l.j)("font-semibold bg-gradient-to-r from-[#1f7daf] to-[#104f73] bg-clip-text text-transparent",{variants:{size:{sm:"text-xl",md:"text-2xl",lg:"text-3xl"}},defaultVariants:{size:"sm"}});function c(e){let{size:t="sm",href:s="/",className:l,showText:c=!0,asLink:u=!0}=e,x=(0,r.jsxs)("div",{className:(0,a.Z)(i({size:t}),l),children:[(0,r.jsx)("div",{className:o({size:t}),children:(0,r.jsx)("span",{className:"drop-shadow-sm",children:"O"})}),c&&(0,r.jsx)("span",{className:d({size:t}),children:"Olaji"})]});return u&&s?(0,r.jsx)(n.default,{href:s,children:x}):x}function u(e){let{className:t,asLink:s=!1}=e;return(0,r.jsx)(c,{size:"sm",className:t,asLink:s})}function x(e){let{size:t="sm",className:s}=e;return(0,r.jsx)(c,{size:t,showText:!1,asLink:!1,className:s})}}}]);