(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7],{2542:function(e,i,s){Promise.resolve().then(s.bind(s,250))},250:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return t}});var n=s(7437),l=s(2265),r=s(857),d=s(6463),o=s(234);function t(e){var i,s,t,a,u,c;let{children:v}=e,{user:x,isLoading:m,isAuthenticated:h}=(0,r.a)(),f=(0,d.useRouter)(),[b,p]=(0,l.useState)(!1),[N,g]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{let e=()=>{g(window.innerWidth<768),window.innerWidth<768&&p(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{var e,i,s,n,l,r,d,o;if(!m){if(!h||!x){f.replace("/login");return}if(!((null===(e=x.permissions)||void 0===e?void 0:e.is_tester)||(null===(i=x.permissions)||void 0===i?void 0:i.is_admin)||(null===(s=x.permissions)||void 0===s?void 0:s.is_super_admin)||(null===(n=x.roles)||void 0===n?void 0:n.includes("TESTER"))||(null===(l=x.roles)||void 0===l?void 0:l.includes("ADMIN"))||(null===(r=x.roles)||void 0===r?void 0:r.includes("SUPER_ADMIN")))){console.log("\uD83D\uDD0D User lacks tester permissions, redirecting...",{userRoles:x.roles,userPermissions:x.permissions}),(null===(d=x.roles)||void 0===d?void 0:d.includes("ADMIN"))||(null===(o=x.roles)||void 0===o?void 0:o.includes("SUPER_ADMIN"))?f.replace("/admin"):f.replace("/dashboard");return}}},[x,m,h,f]),m)?(0,n.jsx)("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-neutral-900",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading..."})]})}):h&&x&&((null===(i=x.permissions)||void 0===i?void 0:i.is_tester)||(null===(s=x.permissions)||void 0===s?void 0:s.is_admin)||(null===(t=x.permissions)||void 0===t?void 0:t.is_super_admin)||(null===(a=x.roles)||void 0===a?void 0:a.includes("TESTER"))||(null===(u=x.roles)||void 0===u?void 0:u.includes("ADMIN"))||(null===(c=x.roles)||void 0===c?void 0:c.includes("SUPER_ADMIN")))?(0,n.jsxs)("div",{className:"flex h-screen bg-neutral-50 dark:bg-neutral-950",children:[N&&!b&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>p(!0)}),(0,n.jsx)("div",{className:"\n        ".concat(N?"fixed top-0 left-0 h-full z-50":"relative","\n        ").concat(N&&b?"-translate-x-full":"translate-x-0","\n        transition-transform duration-300 ease-in-out\n      "),children:(0,n.jsx)(o.Z,{collapsed:b,onCollapse:p,isMobile:N})}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[N&&b&&(0,n.jsx)("div",{className:"lg:hidden bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-800 px-4 py-3",children:(0,n.jsx)("button",{onClick:()=>p(!1),className:"p-2 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",title:"Open sidebar",children:(0,n.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,n.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,n.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,n.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}),(0,n.jsx)("main",{className:"flex-1 overflow-hidden bg-white dark:bg-neutral-900",children:(0,n.jsx)("div",{className:"h-full overflow-y-auto",children:v})})]})]}):null}}},function(e){e.O(0,[236,787,322,971,23,744],function(){return e(e.s=2542)}),_N_E=e.O()}]);