(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{917:function(e,t,o){Promise.resolve().then(o.t.bind(o,8877,23)),Promise.resolve().then(o.bind(o,857))},857:function(e,t,o){"use strict";o.d(t,{AuthProvider:function(){return i},a:function(){return c}});var n=o(7437),a=o(2265),u=o(6463);let s=(0,a.createContext)({token:null,active_school_id:null,isLoading:!0,login:async()=>{},logout:()=>{},setSchoolId:()=>{},isAuthenticated:!1});function i(e){let{children:t}=e,[o,i]=(0,a.useState)({token:null,active_school_id:null,isLoading:!0}),c=(0,u.useRouter)();(0,a.useEffect)(()=>{i({token:localStorage.getItem("token"),active_school_id:localStorage.getItem("active_school_id"),isLoading:!1})},[]);let r=async e=>{localStorage.setItem("token",e.token),i(t=>({...t,token:e.token,isLoading:!1}))},l={...o,login:r,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("active_school_id"),i({token:null,active_school_id:null,isLoading:!1}),c.replace("/login")},setSchoolId:e=>{localStorage.setItem("active_school_id",e),i(t=>({...t,active_school_id:e}))},isAuthenticated:!!o.token&&!o.isLoading};return(0,n.jsx)(s.Provider,{value:l,children:t})}let c=()=>(0,a.useContext)(s)},6463:function(e,t,o){"use strict";var n=o(1169);o.o(n,"useParams")&&o.d(t,{useParams:function(){return n.useParams}}),o.o(n,"usePathname")&&o.d(t,{usePathname:function(){return n.usePathname}}),o.o(n,"useRouter")&&o.d(t,{useRouter:function(){return n.useRouter}}),o.o(n,"useSearchParams")&&o.d(t,{useSearchParams:function(){return n.useSearchParams}})},8877:function(){}},function(e){e.O(0,[404,971,23,744],function(){return e(e.s=917)}),_N_E=e.O()}]);