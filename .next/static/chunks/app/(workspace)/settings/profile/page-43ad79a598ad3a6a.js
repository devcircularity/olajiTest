(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{7847:function(e,t,a){Promise.resolve().then(a.bind(a,6191))},6191:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var l=a(7437),n=a(2265),s=a(857),r=a(6957);function i(){let{token:e,isAuthenticated:t}=(0,s.a)(),[a,i]=(0,n.useState)(""),[c,o]=(0,n.useState)(""),[u,d]=(0,n.useState)(""),[h,x]=(0,n.useState)(""),[m,f]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(e){let t=function(e){if(!e)return null;try{var t;let a=null===(t=e.split(".")[1])||void 0===t?void 0:t.replace(/-/g,"+").replace(/_/g,"/"),l=atob(a);return JSON.parse(l)}catch(e){return null}}(e);t&&(i(t.full_name||""),o(t.full_name||""))}},[e]);let p=async()=>{f(!0);try{await new Promise(e=>setTimeout(e,1e3)),v(!0),setTimeout(()=>v(!1),3e3)}catch(e){console.error("Failed to save profile:",e)}finally{f(!1)}};return t?(0,l.jsx)(r.Z,{children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Profile"}),(0,l.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Update your personal information and preferences"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"label",children:"Full name"}),(0,l.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),className:"input",placeholder:"Enter your full name"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"label",children:"What should Olaji call you?"}),(0,l.jsx)("input",{type:"text",value:c,onChange:e=>o(e.target.value),className:"input",placeholder:"Enter your preferred name"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 pt-4",children:[(0,l.jsx)("button",{onClick:p,disabled:m,className:"btn-primary",children:m?"Saving...":"Save Changes"}),g&&(0,l.jsx)("span",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"Changes saved successfully!"})]})]})}):(0,l.jsx)(r.Z,{children:(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Please log in to access your profile settings."})})})}},6957:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var l=a(7437),n=a(6463),s=a(7138),r=a(8030);let i=(0,r.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),c=[{href:"/settings/profile",label:"Profile",icon:i},{href:"/settings/account",label:"Account",icon:(0,r.Z)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},{href:"/settings/devices&messaging",label:"Devices & Messaging",icon:(0,r.Z)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},{href:"/settings/notifications",label:"Notifications",icon:(0,r.Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])}];function o(e){let{children:t,title:a="Settings",subtitle:r="Manage your account and preferences"}=e,i=(0,n.usePathname)();return(0,l.jsx)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-950",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:a}),(0,l.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:r})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 h-[calc(100vh-200px)]",children:[(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsx)("nav",{className:"space-y-1 sticky top-8",children:c.map(e=>{let t=e.icon,a=i===e.href;return(0,l.jsxs)(s.default,{href:e.href,className:"\n                      flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors\n                      ".concat(a?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-neutral-900 dark:hover:text-neutral-100","\n                    "),children:[(0,l.jsx)(t,{size:18,className:"flex-shrink-0"}),(0,l.jsx)("span",{children:e.label})]},e.href)})})}),(0,l.jsx)("div",{className:"lg:col-span-3 h-full overflow-hidden",children:(0,l.jsx)("div",{className:"card h-full overflow-y-auto",children:(0,l.jsx)("div",{className:"p-6",children:t})})})]})]})})}},857:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return i},a:function(){return c}});var l=a(7437),n=a(2265),s=a(6463);let r=(0,n.createContext)({token:null,active_school_id:null,isLoading:!0,login:async()=>{},logout:()=>{},setSchoolId:()=>{},isAuthenticated:!1});function i(e){let{children:t}=e,[a,i]=(0,n.useState)({token:null,active_school_id:null,isLoading:!0}),c=(0,s.useRouter)();(0,n.useEffect)(()=>{i({token:localStorage.getItem("token"),active_school_id:localStorage.getItem("active_school_id"),isLoading:!1})},[]);let o=async e=>{localStorage.setItem("token",e.token),i(t=>({...t,token:e.token,isLoading:!1}))},u={...a,login:o,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("active_school_id"),i({token:null,active_school_id:null,isLoading:!1}),c.replace("/login")},setSchoolId:e=>{localStorage.setItem("active_school_id",e),i(t=>({...t,active_school_id:e}))},isAuthenticated:!!a.token&&!a.isLoading};return(0,l.jsx)(r.Provider,{value:u,children:t})}let c=()=>(0,n.useContext)(r)},6463:function(e,t,a){"use strict";var l=a(1169);a.o(l,"useParams")&&a.d(t,{useParams:function(){return l.useParams}}),a.o(l,"usePathname")&&a.d(t,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}}),a.o(l,"useSearchParams")&&a.d(t,{useSearchParams:function(){return l.useSearchParams}})}},function(e){e.O(0,[48,971,23,744],function(){return e(e.s=7847)}),_N_E=e.O()}]);