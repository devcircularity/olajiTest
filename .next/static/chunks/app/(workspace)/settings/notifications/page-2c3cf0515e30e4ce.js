(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[773],{7681:function(e,t,a){Promise.resolve().then(a.bind(a,7577))},7577:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var r=a(7437),s=a(2265),n=a(857),l=a(6957);function i(){let{isAuthenticated:e}=(0,n.a)(),[t,a]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1),[d,o]=(0,s.useState)([{id:"email-student-updates",title:"Student Updates",description:"Get notified when student records are updated or new students are enrolled",enabled:!0,category:"email"},{id:"email-fee-reminders",title:"Fee Reminders",description:"Receive notifications about upcoming fee payments and overdue accounts",enabled:!0,category:"email"},{id:"email-system-updates",title:"System Updates",description:"Get notified about system maintenance, new features, and important updates",enabled:!1,category:"email"},{id:"email-weekly-reports",title:"Weekly Reports",description:"Receive weekly summary reports of school activities and statistics",enabled:!0,category:"email"},{id:"push-chat-messages",title:"Chat Messages",description:"Get instant notifications for new chat messages and responses",enabled:!0,category:"push"},{id:"push-urgent-alerts",title:"Urgent Alerts",description:"Receive immediate notifications for critical school matters",enabled:!0,category:"push"},{id:"push-class-updates",title:"Class Updates",description:"Get notified about class schedule changes and announcements",enabled:!1,category:"push"},{id:"sms-security-alerts",title:"Security Alerts",description:"Receive SMS notifications for login attempts and security events",enabled:!0,category:"sms"},{id:"sms-payment-confirmations",title:"Payment Confirmations",description:"Get SMS confirmations when payments are received",enabled:!1,category:"sms"}]),u=e=>{o(t=>t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t))},h=async()=>{a(!0);try{await new Promise(e=>setTimeout(e,1e3)),c(!0),setTimeout(()=>c(!1),3e3)}catch(e){console.error("Failed to save notifications:",e)}finally{a(!1)}},m=e=>d.filter(t=>t.category===e),f=e=>{switch(e){case"email":return"Email Notifications";case"push":return"Push Notifications";case"sms":return"SMS Notifications"}},x=e=>{switch(e){case"email":return"Receive notifications via email";case"push":return"Get browser and mobile push notifications";case"sms":return"Receive text message notifications"}};return e?(0,r.jsx)(l.Z,{children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Notifications"}),(0,r.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Choose what notifications you want to receive and how"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:f("email")}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:x("email")})]}),(0,r.jsx)("div",{className:"space-y-3",children:m("email").map(e=>(0,r.jsxs)("div",{className:"flex items-start justify-between p-4 border border-neutral-200 dark:border-neutral-700 rounded-xl",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-1",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.description})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer ml-4",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:()=>u(e.id),className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-blue-600"})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"space-y-4 border-t border-neutral-200 dark:border-neutral-700 pt-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:f("push")}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:x("push")})]}),(0,r.jsx)("div",{className:"space-y-3",children:m("push").map(e=>(0,r.jsxs)("div",{className:"flex items-start justify-between p-4 border border-neutral-200 dark:border-neutral-700 rounded-xl",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-1",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.description})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer ml-4",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:()=>u(e.id),className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-blue-600"})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"space-y-4 border-t border-neutral-200 dark:border-neutral-700 pt-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:f("sms")}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:x("sms")})]}),(0,r.jsx)("div",{className:"space-y-3",children:m("sms").map(e=>(0,r.jsxs)("div",{className:"flex items-start justify-between p-4 border border-neutral-200 dark:border-neutral-700 rounded-xl",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-1",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.description})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer ml-4",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:()=>u(e.id),className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-blue-600"})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[(0,r.jsx)("button",{onClick:h,disabled:t,className:"btn-primary",children:t?"Saving...":"Save Preferences"}),i&&(0,r.jsx)("span",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"Notification preferences saved!"})]})]})}):(0,r.jsx)(l.Z,{children:(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Please log in to access your notification settings."})})})}},6957:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var r=a(7437),s=a(6463),n=a(7138),l=a(8030);let i=(0,l.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),c=[{href:"/settings/profile",label:"Profile",icon:i},{href:"/settings/account",label:"Account",icon:(0,l.Z)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},{href:"/settings/devices&messaging",label:"Devices & Messaging",icon:(0,l.Z)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},{href:"/settings/notifications",label:"Notifications",icon:(0,l.Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])}];function d(e){let{children:t,title:a="Settings",subtitle:l="Manage your account and preferences"}=e,i=(0,s.usePathname)();return(0,r.jsx)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-950",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:a}),(0,r.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:l})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 h-[calc(100vh-200px)]",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsx)("nav",{className:"space-y-1 sticky top-8",children:c.map(e=>{let t=e.icon,a=i===e.href;return(0,r.jsxs)(n.default,{href:e.href,className:"\n                      flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors\n                      ".concat(a?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-neutral-900 dark:hover:text-neutral-100","\n                    "),children:[(0,r.jsx)(t,{size:18,className:"flex-shrink-0"}),(0,r.jsx)("span",{children:e.label})]},e.href)})})}),(0,r.jsx)("div",{className:"lg:col-span-3 h-full overflow-hidden",children:(0,r.jsx)("div",{className:"card h-full overflow-y-auto",children:(0,r.jsx)("div",{className:"p-6",children:t})})})]})]})})}},857:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return i},a:function(){return c}});var r=a(7437),s=a(2265),n=a(6463);let l=(0,s.createContext)({token:null,active_school_id:null,isLoading:!0,login:async()=>{},logout:()=>{},setSchoolId:()=>{},isAuthenticated:!1});function i(e){let{children:t}=e,[a,i]=(0,s.useState)({token:null,active_school_id:null,isLoading:!0}),c=(0,n.useRouter)();(0,s.useEffect)(()=>{i({token:localStorage.getItem("token"),active_school_id:localStorage.getItem("active_school_id"),isLoading:!1})},[]);let d=async e=>{localStorage.setItem("token",e.token),i(t=>({...t,token:e.token,isLoading:!1}))},o={...a,login:d,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("active_school_id"),i({token:null,active_school_id:null,isLoading:!1}),c.replace("/login")},setSchoolId:e=>{localStorage.setItem("active_school_id",e),i(t=>({...t,active_school_id:e}))},isAuthenticated:!!a.token&&!a.isLoading};return(0,r.jsx)(l.Provider,{value:o,children:t})}let c=()=>(0,s.useContext)(l)},6463:function(e,t,a){"use strict";var r=a(1169);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[48,971,23,744],function(){return e(e.s=7681)}),_N_E=e.O()}]);