(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[757],{1248:function(e,s,t){Promise.resolve().then(t.bind(t,6594))},6594:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var l=t(7437),a=t(2265),n=t(857),i=t(1702);let r=(0,t(8030).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var d=t(5607),o=t(4308);function m(){var e,s;let{user:t}=(0,n.a)(),[m,c]=(0,a.useState)([]),[x,u]=(0,a.useState)(!0),[p,h]=(0,a.useState)("ALL"),[g,b]=(0,a.useState)({start:new Date(Date.now()-864e5).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});(0,a.useEffect)(()=>{setTimeout(()=>{c([{id:"1",timestamp:new Date().toISOString(),level:"INFO",message:"User login successful",user_email:"john@example.com",endpoint:"/api/auth/login",ip_address:"192.168.1.1"},{id:"2",timestamp:new Date(Date.now()-36e5).toISOString(),level:"WARN",message:"Failed login attempt",endpoint:"/api/auth/login",ip_address:"192.168.1.5"},{id:"3",timestamp:new Date(Date.now()-72e5).toISOString(),level:"ERROR",message:"Database connection timeout",endpoint:"/api/users",ip_address:"10.0.0.1"}]),u(!1)},1e3)},[g,p]);let v="ALL"===p?m:m.filter(e=>e.level===p);return(null==t?void 0:null===(e=t.permissions)||void 0===e?void 0:e.is_admin)||(null==t?void 0:null===(s=t.permissions)||void 0===s?void 0:s.is_super_admin)?(0,l.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-2",children:"System Logs"}),(0,l.jsx)("p",{className:"text-sm sm:text-base text-neutral-600",children:"Monitor system activity and troubleshoot issues"})]}),(0,l.jsxs)(o.Z,{className:"btn-secondary flex items-center gap-2 text-sm",children:[(0,l.jsx)(r,{size:16}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"Export Logs"}),(0,l.jsx)("span",{className:"sm:hidden",children:"Export"})]})]}),(0,l.jsx)("div",{className:"card p-3 sm:p-4 mb-4 sm:mb-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 items-end",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs sm:text-sm font-medium mb-1",children:"Log Level"}),(0,l.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"input w-full text-sm",children:[(0,l.jsx)("option",{value:"ALL",children:"All Levels"}),(0,l.jsx)("option",{value:"ERROR",children:"Error"}),(0,l.jsx)("option",{value:"WARN",children:"Warning"}),(0,l.jsx)("option",{value:"INFO",children:"Info"}),(0,l.jsx)("option",{value:"DEBUG",children:"Debug"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs sm:text-sm font-medium mb-1",children:"Start Date"}),(0,l.jsx)("input",{type:"date",value:g.start,onChange:e=>b(s=>({...s,start:e.target.value})),className:"input w-full text-sm"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs sm:text-sm font-medium mb-1",children:"End Date"}),(0,l.jsx)("input",{type:"date",value:g.end,onChange:e=>b(s=>({...s,end:e.target.value})),className:"input w-full text-sm"})]}),(0,l.jsx)("div",{className:"sm:col-span-2 lg:col-span-1",children:(0,l.jsxs)(o.Z,{className:"btn-secondary flex items-center gap-2 w-full sm:w-auto text-sm",children:[(0,l.jsx)(d.Z,{size:16}),"Apply Filters"]})})]})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsx)(i.Z,{data:v,columns:[{key:"timestamp",label:"Time",render:e=>(0,l.jsx)("span",{className:"text-xs sm:text-sm",children:new Date(e).toLocaleString()}),width:"180px"},{key:"level",label:"Level",render:e=>(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("ERROR"===e?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200":"WARN"===e?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200":"INFO"===e?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"),children:e}),width:"80px"},{key:"message",label:"Message",render:e=>(0,l.jsx)("span",{className:"font-mono text-xs sm:text-sm break-words",children:e})},{key:"user_email",label:"User",render:e=>(0,l.jsx)("span",{className:"text-xs sm:text-sm",children:e||"-"}),width:"150px"},{key:"endpoint",label:"Endpoint",render:e=>(0,l.jsx)("code",{className:"text-xs bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded break-all",children:e||"-"}),width:"120px"},{key:"ip_address",label:"IP Address",render:e=>(0,l.jsx)("code",{className:"text-xs",children:e||"-"}),width:"120px"}],loading:x,searchable:!0,searchPlaceholder:"Search logs...",emptyMessage:"No logs found for the selected criteria",className:"font-mono text-xs sm:text-sm"})})]}):(0,l.jsx)("div",{className:"p-4 sm:p-6",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Access Denied"}),(0,l.jsx)("p",{className:"text-neutral-600",children:"You don't have permission to view system logs."})]})})}},5607:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(8030).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])}},function(e){e.O(0,[236,32,971,23,744],function(){return e(e.s=1248)}),_N_E=e.O()}]);