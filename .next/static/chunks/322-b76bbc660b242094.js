"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{234:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(7437),a=n(2265),s=n(6463),l=n(857),i=n(7138),o=n(500),c=n(8030);let d=(0,c.Z)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var u=n(4258),h=n(4207),m=n(1240);let g=(0,c.Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var f=n(7390),p=n(497),x=n(6780),v=n(3409),b=n(518);let k=(0,c.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var _=n(9581);function y(e){let{collapsed:t,onCollapse:n,isMobile:c=!1}=e,[y,j]=(0,a.useState)(!1),w=(0,a.useRef)(null),{token:N,logout:A,isAuthenticated:S,user:z}=(0,l.a)(),Z=(0,s.usePathname)(),M=(0,s.useRouter)(),I=(0,a.useMemo)(()=>(function(e){if(!e)return null;try{var t;let n=null===(t=e.split(".")[1])||void 0===t?void 0:t.replace(/-/g,"+").replace(/_/g,"/"),r=atob(n);return JSON.parse(r)}catch(e){return null}})(N||void 0),[N]),C=(null==I?void 0:I.full_name)||(null==z?void 0:z.full_name),R=(null==I?void 0:I.email)||(null==z?void 0:z.email);(null==I?void 0:I.active_school_id)||null==z||z.active_school_id;let T=(null==I?void 0:I.roles)||(null==z?void 0:z.roles)||[],E=(null==I?void 0:I.permissions)||(null==z?void 0:z.permissions)||{},P=C||R||"Guest",U=function(e,t){var n;let r=(e||"").trim();return r?r.split(/\s+/).slice(0,2).map(e=>{var t;return(null===(t=e[0])||void 0===t?void 0:t.toUpperCase())||""}).join("")||"U":t&&(null===(n=t[0])||void 0===n?void 0:n.toUpperCase())||"U"}(C,R),L=T.includes("ADMIN")||T.includes("SUPER_ADMIN")||E.is_admin||E.is_super_admin,D=T.includes("TESTER")||E.is_tester,q=E.can_manage_users;E.can_manage_intent_config;let V=E.can_view_logs||L,H=(0,a.useCallback)(()=>{c&&!t&&n(!0)},[t,n,c]);(0,a.useEffect)(()=>{function e(e){w.current&&!w.current.contains(e.target)&&j(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let O=(0,a.useMemo)(()=>{let e=[],t=Z.startsWith("/admin"),n=Z.startsWith("/tester");return L&&t&&(e.push({id:"admin-dashboard",label:"Admin Dashboard",href:"/admin",icon:(0,r.jsx)(o.Z,{size:18}),section:"admin"},{id:"admin-configuration",label:"Configuration",href:"/admin/configuration",icon:(0,r.jsx)(d,{size:18}),section:"admin"},{id:"admin-intent-config",label:"Intent Config",href:"/admin/intent-config",icon:(0,r.jsx)(u.Z,{size:18}),section:"admin"},{id:"admin-monitoring",label:"Monitoring",href:"/admin/monitoring",icon:(0,r.jsx)(h.Z,{size:18}),section:"admin"}),q&&e.push({id:"admin-users",label:"Users",href:"/admin/users",icon:(0,r.jsx)(m.Z,{size:18}),section:"admin"}),V&&e.push({id:"admin-logs",label:"Logs",href:"/admin/logs",icon:(0,r.jsx)(g,{size:18}),section:"admin"}),e.push({id:"admin-suggestions",label:"Manage Suggestions",href:"/admin/suggestions",icon:(0,r.jsx)(f.Z,{size:18}),section:"admin"})),D&&n&&e.push({id:"tester-dashboard",label:"Tester Dashboard",href:"/tester",icon:(0,r.jsx)(p.Z,{size:18}),section:"tester"},{id:"tester-queue",label:"Problem Queue",href:"/tester/queue",icon:(0,r.jsx)(x.Z,{size:18}),section:"tester"},{id:"tester-suggestions",label:"My Suggestions",href:"/tester/suggestions",icon:(0,r.jsx)(f.Z,{size:18}),section:"tester"},{id:"tester-stats",label:"Analytics",href:"/tester/stats",icon:(0,r.jsx)(v.Z,{size:18}),section:"tester"}),e},[L,D,q,V,Z]),F=(0,a.useMemo)(()=>O.reduce((e,t)=>{let n=t.section||"main";return e[n]||(e[n]=[]),e[n].push(t),e},{}),[O]),B=e=>{M.push(e),H()},W=(e,t)=>(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-xs uppercase tracking-wide text-neutral-500 dark:text-neutral-400 font-medium px-4 mb-3",children:e}),(0,r.jsx)("div",{className:"space-y-1",children:t.map(e=>{let t="/admin"===e.href||"/tester"===e.href||"/dashboard"===e.href?Z===e.href:Z===e.href||Z.startsWith(e.href+"/");return(0,r.jsxs)("button",{onClick:()=>B(e.href),className:"\n                  w-full flex items-center px-4 py-3 text-left transition-all duration-200\n                  ".concat(t?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-r-2 border-blue-500":"text-neutral-700 dark:text-neutral-200 hover:bg-neutral-50 dark:hover:bg-neutral-800/50","\n                "),children:[(0,r.jsx)("div",{className:"flex-shrink-0 mr-3",children:e.icon}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("span",{className:"text-sm font-medium",children:e.label})}),e.badge&&(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-0.5",children:e.badge})})]},e.id)})})]});return S?(0,r.jsxs)("aside",{className:"\n        border-r border-neutral-200/70 dark:border-white/10 \n        bg-white dark:bg-neutral-900 \n        flex flex-col h-full transition-all duration-300 ease-in-out\n        ".concat(t?"w-16 cursor-pointer":"w-72","\n        ").concat(c?"shadow-2xl":"","\n      "),onClick:()=>{t&&n(!1)},children:[(0,r.jsx)("div",{className:"px-4 py-4 border-b border-neutral-200/50 dark:border-neutral-700/50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center min-w-0",children:t?(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(_.K7,{size:"sm"})}):(0,r.jsx)(i.default,{href:"/dashboard",className:"flex items-center",children:(0,r.jsx)(_.ZP,{size:"sm"})})}),!c&&!t&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),n(!0)},className:"p-1.5 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",title:"Collapse sidebar",children:(0,r.jsx)(b.Z,{size:18})})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto py-6",children:t?(0,r.jsx)("div",{className:"space-y-2 px-2",children:O.map(e=>{let t="/admin"===e.href||"/tester"===e.href||"/dashboard"===e.href?Z===e.href:Z===e.href||Z.startsWith(e.href+"/");return(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("button",{onClick:t=>{t.stopPropagation(),B(e.href)},className:"\n                      w-full flex items-center justify-center p-3 rounded-lg transition-all duration-200\n                      ".concat(t?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-neutral-900 dark:hover:text-neutral-100","\n                    "),children:[e.icon,e.badge&&(0,r.jsx)("div",{className:"absolute -top-1 -right-1",children:(0,r.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"})})]}),(0,r.jsxs)("div",{className:" absolute left-full ml-2 px-3 py-2 bg-neutral-900 dark:bg-neutral-100  text-white dark:text-neutral-900 text-sm rounded-md  opacity-0 invisible group-hover:opacity-100 group-hover:visible  transition-all duration-200 pointer-events-none z-50 whitespace-nowrap top-1/2 transform -translate-y-1/2 ",children:[e.label,(0,r.jsx)("div",{className:"absolute right-full top-1/2 transform -translate-y-1/2",children:(0,r.jsx)("div",{className:"border-4 border-transparent border-r-neutral-900 dark:border-r-neutral-100"})})]})]},e.id)})}):(0,r.jsxs)("div",{children:[F.admin&&W("Administration",F.admin),F.tester&&W("Testing",F.tester)]})}),N&&(0,r.jsx)("div",{className:"border-t border-neutral-200/50 dark:border-neutral-700/50 p-4",children:(0,r.jsxs)("div",{className:"relative",ref:w,children:[(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),j(!y)},className:"\n                w-full flex items-center gap-3 p-3 rounded-lg \n                hover:bg-neutral-100 dark:hover:bg-neutral-800 \n                transition-all duration-200\n                ".concat(t?"justify-center":"","\n              "),title:t?"".concat(P).concat(R?" - ".concat(R):""):void 0,children:[(0,r.jsx)("div",{className:" inline-flex h-9 w-9 items-center justify-center  rounded-full text-white font-semibold text-sm shadow-md hover:shadow-lg ring-2 ring-blue-500/20 dark:ring-blue-400/30 transition-all duration-200 flex-shrink-0 ",style:{backgroundColor:"var(--color-brand)"},children:U}),!t&&(0,r.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:P}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:T.length>0?T.join(", "):"User"})]})]}),y&&(0,r.jsxs)("div",{className:"\n                  absolute bg-white dark:bg-neutral-900 rounded-xl \n                  shadow-2xl border border-neutral-200 dark:border-neutral-700 py-2 z-50\n                  ".concat(t?"bottom-0 left-full ml-2 w-56":"bottom-full mb-2 left-0 right-0","\n                "),children:[t&&(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-neutral-200 dark:border-neutral-700",children:[(0,r.jsx)("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-100 truncate",children:P}),R&&(0,r.jsx)("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:R}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate mt-1",children:T.length>0?T.join(", "):"User"})]}),(0,r.jsxs)("button",{onClick:()=>{j(!1),M.push("/settings/profile"),H()},className:"w-full text-left px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800 flex items-center gap-3 transition-colors",children:[(0,r.jsx)(u.Z,{size:16}),"Settings"]}),(0,r.jsxs)("button",{onClick:()=>{A(),j(!1)},className:"w-full text-left px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800 flex items-center gap-3 text-red-600 dark:text-red-400 transition-colors",children:[(0,r.jsx)(k,{size:16}),"Logout"]})]})]})})]}):null}},9581:function(e,t,n){n.d(t,{D2:function(){return u},K7:function(){return h},ZP:function(){return d}});var r=n(7437),a=n(7138),s=n(3027),l=n(4839);let i=(0,s.j)("flex items-center gap-3",{variants:{size:{sm:"",md:"",lg:""}},defaultVariants:{size:"sm"}}),o=(0,s.j)("relative rounded-xl bg-gradient-to-br from-[#1f7daf] to-[#104f73] grid place-items-center text-white font-bold shadow-lg ring-2 ring-[#1f7daf]/20",{variants:{size:{sm:"h-9 w-9 text-lg",md:"h-12 w-12 text-xl",lg:"h-16 w-16 text-2xl"}},defaultVariants:{size:"sm"}}),c=(0,s.j)("font-semibold bg-gradient-to-r from-[#1f7daf] to-[#104f73] bg-clip-text text-transparent",{variants:{size:{sm:"text-xl",md:"text-2xl",lg:"text-3xl"}},defaultVariants:{size:"sm"}});function d(e){let{size:t="sm",href:n="/",className:s,showText:d=!0}=e,u=(0,r.jsxs)("div",{className:(0,l.Z)(i({size:t}),s),children:[(0,r.jsx)("div",{className:o({size:t}),children:(0,r.jsx)("span",{className:"drop-shadow-sm",children:"O"})}),d&&(0,r.jsx)("span",{className:c({size:t}),children:"Olaji"})]});return n?(0,r.jsx)(a.default,{href:n,children:u}):u}function u(e){let{className:t}=e;return(0,r.jsx)(d,{size:"sm",className:t})}function h(e){let{size:t="sm",className:n}=e;return(0,r.jsx)(d,{size:t,showText:!1,href:void 0,className:n})}},857:function(e,t,n){n.d(t,{AuthProvider:function(){return o},a:function(){return c}});var r=n(7437),a=n(2265),s=n(6463),l=n(1785);let i=(0,a.createContext)({token:null,active_school_id:null,user:null,isLoading:!0,login:async()=>{},logout:()=>{},setSchoolId:()=>{},isAuthenticated:!1});function o(e){let{children:t}=e,[n,o]=(0,a.useState)({token:null,active_school_id:null,user:null,isLoading:!0}),c=(0,s.useRouter)();(0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("active_school_id");if(e){l.O.storeToken(e);try{let n=await l.O.getCurrentUser();o({token:e,active_school_id:t,user:n,isLoading:!1})}catch(e){console.error("Failed to fetch user data:",e),localStorage.removeItem("token"),localStorage.removeItem("active_school_id"),o({token:null,active_school_id:null,user:null,isLoading:!1})}}else o({token:null,active_school_id:null,user:null,isLoading:!1})})()},[]);let d=async e=>{localStorage.setItem("token",e.token),l.O.storeToken(e.token);try{var t,n,r;let a=await l.O.getCurrentUser();o(t=>({...t,token:e.token,user:a,isLoading:!1})),(null===(t=a.roles)||void 0===t?void 0:t.includes("TESTER"))?c.replace("/tester"):(null===(n=a.permissions)||void 0===n?void 0:n.is_admin)||(null===(r=a.permissions)||void 0===r?void 0:r.is_super_admin)?c.replace("/admin"):c.replace("/dashboard")}catch(t){throw console.error("Failed to fetch user data after login:",t),o(t=>({...t,token:e.token,user:null,isLoading:!1})),t}},u={...n,login:d,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("active_school_id"),l.O.logout(),o({token:null,active_school_id:null,user:null,isLoading:!1}),c.replace("/login")},setSchoolId:e=>{localStorage.setItem("active_school_id",e),l.O.storeSchoolId(e),o(t=>({...t,active_school_id:e}))},isAuthenticated:!!n.token&&!!n.user&&!n.isLoading};return(0,r.jsx)(i.Provider,{value:u,children:t})}let c=()=>(0,a.useContext)(i)},4207:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(8030).Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},3409:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(8030).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},518:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(8030).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},6780:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(8030).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7390:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(8030).Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},4258:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(8030).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},500:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(8030).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},497:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(8030).Z)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]])},1240:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(8030).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},459:function(e,t,n){n.d(t,{x:function(){return l}});var r=n(8472),a=n(357);class s{handleApiError(e){if(console.error("❌ API Error:",e),e.response){let t=e.response.status,n=e.response.data;switch(t){case 401:localStorage.removeItem("token"),localStorage.removeItem("active_school_id"),window.location.pathname.includes("/login")||window.location.pathname.includes("/signup")||window.location.pathname.includes("/public")||(window.location.href="/login");break;case 403:console.warn("⚠️ Access forbidden:",(null==n?void 0:n.detail)||"Insufficient permissions");break;case 404:console.warn("⚠️ Resource not found:",(null==n?void 0:n.detail)||"Resource not found");break;case 422:console.warn("⚠️ Validation error:",(null==n?void 0:n.detail)||"Invalid request data");break;case 500:console.error("\uD83D\uDCA5 Server error:",(null==n?void 0:n.detail)||"Internal server error");break;default:console.error("\uD83D\uDCA5 HTTP ".concat(t,":"),(null==n?void 0:n.detail)||e.message)}}else e.request?console.error("\uD83C\uDF10 Network error - no response received:",e.message):console.error("⚙️ Request setup error:",e.message)}async get(e,t){return this.client.get(e,{params:t})}async post(e,t){return this.client.post(e,t)}async put(e,t){return this.client.put(e,t)}async patch(e,t){return this.client.patch(e,t)}async delete(e){return this.client.delete(e)}async uploadFile(e,t,n){let r=new FormData;return r.append("file",t),n&&Object.keys(n).forEach(e=>{r.append(e,n[e])}),this.client.post(e,r,{headers:{"Content-Type":"multipart/form-data"}})}async healthCheck(){try{let e=await this.client.get("/healthz");return 200===e.status}catch(e){return console.error("Health check failed:",e),!1}}getBaseURL(){return this.baseURL}setAuthToken(e){this.client.defaults.headers.common.Authorization="Bearer ".concat(e)}clearAuthToken(){delete this.client.defaults.headers.common.Authorization}static isSuccess(e){return e.status>=200&&e.status<300}static getErrorMessage(e){var t;if(null===(t=e.response)||void 0===t?void 0:t.data){let t=e.response.data;return t.detail||t.message||"An error occurred"}return e.message||"Network error"}constructor(){this.baseURL=a.env.NEXT_PUBLIC_API_URL||"http://localhost:8000",this.client=r.Z.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>(console.error("❌ Request interceptor error:",e),Promise.reject(e))),this.client.interceptors.response.use(e=>e,e=>(this.handleApiError(e),Promise.reject(e)))}}let l=new s},1785:function(e,t,n){n.d(t,{O:function(){return s}});var r=n(459);class a{async login(e){return(await r.x.post("/api/auth/login",e)).data}async register(e){return(await r.x.post("/api/auth/register",e)).data}async switchSchool(e){return(await r.x.post("/api/auth/switch-school",e)).data}async getCurrentUser(){return(await r.x.get("/api/auth/me")).data}async getUserPermissions(){return(await r.x.get("/api/auth/permissions")).data}hasRole(e,t){var n,r;return null!==(r=null==e?void 0:null===(n=e.roles)||void 0===n?void 0:n.includes(t))&&void 0!==r&&r}hasAnyRole(e,t){return null!=e&&!!e.roles&&t.some(t=>e.roles.includes(t))}isAdmin(e){return this.hasAnyRole(e,["ADMIN","SUPER_ADMIN"])}isSuperAdmin(e){return this.hasRole(e,"SUPER_ADMIN")}isTester(e){return this.hasRole(e,"TESTER")}getPrimaryRole(e){var t;return null!==(t=null==e?void 0:e.primary_role)&&void 0!==t?t:"PARENT"}formatRoleName(e){return({SUPER_ADMIN:"Super Admin",ADMIN:"Administrator",TESTER:"Tester",TEACHER:"Teacher",ACCOUNTANT:"Accountant",PARENT:"Parent"})[e]||e}getAvailableActions(e){let t=[];return e&&(e.can_manage_students&&t.push("manage_students"),e.can_manage_classes&&t.push("manage_classes"),e.can_manage_fees&&t.push("manage_fees"),e.can_manage_payments&&t.push("manage_payments"),e.can_manage_school&&t.push("manage_school"),e.can_manage_users&&t.push("manage_users"),e.can_view_logs&&t.push("view_logs"),e.can_manage_intent_config&&t.push("manage_intent_config"),e.can_access_tester_queue&&t.push("access_tester_queue"),e.can_submit_suggestions&&t.push("submit_suggestions"),e.can_manage_all_schools&&t.push("manage_all_schools"),e.can_access_system_settings&&t.push("access_system_settings")),t}logout(){localStorage.removeItem("token"),localStorage.removeItem("active_school_id")}getStoredToken(){return localStorage.getItem("token")}getStoredSchoolId(){return localStorage.getItem("active_school_id")}storeToken(e){localStorage.setItem("token",e)}storeSchoolId(e){localStorage.setItem("active_school_id",e)}}let s=new a}}]);