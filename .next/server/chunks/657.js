exports.id=657,exports.ids=[657],exports.modules={7529:()=>{},7742:(e,t,s)=>{Promise.resolve().then(s.bind(s,3136))},5154:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},246:(e,t,s)=>{"use strict";s.d(t,{D2:()=>h,K7:()=>d,ZP:()=>u});var r=s(326),a=s(434),n=s(9360),i=s(1135);let o=(0,n.j)("flex items-center gap-3",{variants:{size:{sm:"",md:"",lg:""}},defaultVariants:{size:"sm"}}),l=(0,n.j)("relative rounded-xl bg-gradient-to-br from-[#1f7daf] to-[#104f73] grid place-items-center text-white font-bold shadow-lg ring-2 ring-[#1f7daf]/20",{variants:{size:{sm:"h-9 w-9 text-lg",md:"h-12 w-12 text-xl",lg:"h-16 w-16 text-2xl"}},defaultVariants:{size:"sm"}}),c=(0,n.j)("font-semibold bg-gradient-to-r from-[#1f7daf] to-[#104f73] bg-clip-text text-transparent",{variants:{size:{sm:"text-xl",md:"text-2xl",lg:"text-3xl"}},defaultVariants:{size:"sm"}});function u({size:e="sm",href:t="/",className:s,showText:n=!0,asLink:u=!0}){let h=(0,r.jsxs)("div",{className:(0,i.Z)(o({size:e}),s),children:[r.jsx("div",{className:l({size:e}),children:r.jsx("span",{className:"drop-shadow-sm",children:"O"})}),n&&r.jsx("span",{className:c({size:e}),children:"Olaji"})]});return u&&t?r.jsx(a.default,{href:t,children:h}):h}function h({className:e,asLink:t=!1}){return r.jsx(u,{size:"sm",className:e,asLink:t})}function d({size:e="sm",className:t}){return r.jsx(u,{size:e,showText:!1,asLink:!1,className:t})}},3136:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>l,a:()=>c});var r=s(326),a=s(7577),n=s(5047),i=s(130);let o=(0,a.createContext)({token:null,active_school_id:null,user:null,isLoading:!0,login:async()=>({}),logout:()=>{},setSchoolId:()=>{},isAuthenticated:!1,hasValidRole:!1});function l({children:e}){var t;let[s,l]=(0,a.useState)({token:null,active_school_id:null,user:null,isLoading:!0}),c=(0,n.useRouter)(),u=async e=>{localStorage.setItem("token",e.token),i.O.storeToken(e.token);try{let t=await i.O.getCurrentUser();return l(s=>({...s,token:e.token,user:t,isLoading:!1})),t}catch(t){throw l(t=>({...t,token:e.token,user:null,isLoading:!1})),t}},h=!!(t=s.user)&&!!(t.roles?.includes("TESTER")||t.permissions?.is_admin||t.permissions?.is_super_admin),d={...s,login:u,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("active_school_id"),i.O.logout(),l({token:null,active_school_id:null,user:null,isLoading:!1}),c.replace("/login")},setSchoolId:e=>{localStorage.setItem("active_school_id",e),i.O.storeSchoolId(e),l(t=>({...t,active_school_id:e}))},isAuthenticated:!!s.token&&!!s.user&&!s.isLoading,hasValidRole:h};return r.jsx(o.Provider,{value:d,children:e})}let c=()=>(0,a.useContext)(o)},2881:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var r=s(7577);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),i=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:u,...h},d)=>(0,r.createElement)("svg",{ref:d,...c,width:t,height:t,stroke:e,strokeWidth:a?24*Number(s)/Number(t):s,className:o("lucide",n),...!i&&!l(h)&&{"aria-hidden":"true"},...h},[...u.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(i)?i:[i]])),h=(e,t)=>{let s=(0,r.forwardRef)(({className:s,...n},l)=>(0,r.createElement)(u,{ref:l,iconNode:t,className:o(`lucide-${a(i(e))}`,`lucide-${e}`,s),...n}));return s.displayName=i(e),s}},2374:(e,t,s)=>{"use strict";s.d(t,{x:()=>n});var r=s(4099);class a{constructor(){this.baseURL="http://localhost:8000",this.client=r.Z.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>e,e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,e=>(this.handleApiError(e),Promise.reject(e)))}handleApiError(e){e.response&&e.response.status}async get(e,t){return this.client.get(e,{params:t})}async post(e,t){return this.client.post(e,t)}async put(e,t){return this.client.put(e,t)}async patch(e,t){return this.client.patch(e,t)}async delete(e){return this.client.delete(e)}async uploadFile(e,t,s){let r=new FormData;return r.append("file",t),s&&Object.keys(s).forEach(e=>{r.append(e,s[e])}),this.client.post(e,r,{headers:{"Content-Type":"multipart/form-data"}})}async healthCheck(){try{let e=await this.client.get("/healthz");return 200===e.status}catch(e){return!1}}getBaseURL(){return this.baseURL}setAuthToken(e){this.client.defaults.headers.common.Authorization=`Bearer ${e}`}clearAuthToken(){delete this.client.defaults.headers.common.Authorization}static isSuccess(e){return e.status>=200&&e.status<300}static getErrorMessage(e){if(e.response?.data){let t=e.response.data;return t.detail||t.message||"An error occurred"}return e.message||"Network error"}}let n=new a},130:(e,t,s)=>{"use strict";s.d(t,{O:()=>n});var r=s(2374);class a{async login(e){return(await r.x.post("/api/auth/login",e)).data}async register(e){return(await r.x.post("/api/auth/register",e)).data}async switchSchool(e){return(await r.x.post("/api/auth/switch-school",e)).data}async getCurrentUser(){return(await r.x.get("/api/auth/me")).data}async getUserPermissions(){return(await r.x.get("/api/auth/permissions")).data}hasRole(e,t){return e?.roles?.includes(t)??!1}hasAnyRole(e,t){return!!e?.roles&&t.some(t=>e.roles.includes(t))}isAdmin(e){return this.hasAnyRole(e,["ADMIN","SUPER_ADMIN"])}isSuperAdmin(e){return this.hasRole(e,"SUPER_ADMIN")}isTester(e){return this.hasRole(e,"TESTER")}getPrimaryRole(e){return e?.primary_role??"PARENT"}formatRoleName(e){return({SUPER_ADMIN:"Super Admin",ADMIN:"Administrator",TESTER:"Tester",TEACHER:"Teacher",ACCOUNTANT:"Accountant",PARENT:"Parent"})[e]||e}getAvailableActions(e){let t=[];return e&&(e.can_manage_students&&t.push("manage_students"),e.can_manage_classes&&t.push("manage_classes"),e.can_manage_fees&&t.push("manage_fees"),e.can_manage_payments&&t.push("manage_payments"),e.can_manage_school&&t.push("manage_school"),e.can_manage_users&&t.push("manage_users"),e.can_view_logs&&t.push("view_logs"),e.can_manage_intent_config&&t.push("manage_intent_config"),e.can_access_tester_queue&&t.push("access_tester_queue"),e.can_submit_suggestions&&t.push("submit_suggestions"),e.can_manage_all_schools&&t.push("manage_all_schools"),e.can_access_system_settings&&t.push("access_system_settings")),t}logout(){}getStoredToken(){return null}getStoredSchoolId(){return null}storeToken(e){}storeSchoolId(e){}}let n=new a},7449:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,metadata:()=>c});var r=s(9510);s(7272),s(1159);var a=s(8570);let n=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/contexts/AuthContext.tsx`),{__esModule:i,$$typeof:o}=n;n.default;let l=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/contexts/AuthContext.tsx#AuthProvider`);(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/contexts/AuthContext.tsx#useAuth`);let c={title:"Olaji Chat"};function u({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"min-h-svh bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 antialiased",children:r.jsx(l,{children:e})})})}},7272:()=>{}};