exports.id=289,exports.ids=[289],exports.modules={7667:(e,t,a)=>{Promise.resolve().then(a.bind(a,2802))},2802:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(326);a(7577);var r=a(3136),s=a(5047),i=a(7231);function d({children:e}){let{user:t,isLoading:a,isAuthenticated:d}=(0,r.a)();return((0,s.useRouter)(),a)?n.jsx("div",{className:"flex items-center justify-center h-screen",children:(0,n.jsxs)("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading..."})]})}):d&&t&&(t.roles?.includes("ADMIN")||t.roles?.includes("SUPER_ADMIN")||t.permissions?.is_admin||t.permissions?.is_super_admin)?n.jsx(i.Z,{children:e}):null}a(506)},3679:(e,t,a)=>{"use strict";a.d(t,{default:()=>s});var n=a(326),r=a(1135);function s({className:e,children:t,...a}){return n.jsx("button",{className:(0,r.Z)("btn-primary",e),...a,children:t})}},2607:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var n=a(326),r=a(7577),s=a(8307),i=a(1890);let d=(0,a(2881).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var l=a(3679);function c({data:e,columns:t,actions:a,loading:c=!1,searchable:o=!1,searchPlaceholder:p="Search...",pagination:u,emptyMessage:m="No data available",className:x=""}){let[h,g]=(0,r.useState)(""),[f,y]=(0,r.useState)(null),b=o?e.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(h.toLowerCase()))):e,v=f?[...b].sort((e,t)=>{let a=e[f.key],n=t[f.key];return a<n?"asc"===f.direction?-1:1:a>n?"asc"===f.direction?1:-1:0}):b,w=e=>{y(t=>t?.key===e?{key:e,direction:"asc"===t.direction?"desc":"asc"}:{key:e,direction:"asc"})},k=(e,t)=>{let a=e[t.key];return t.render?t.render(a,e):a};return c?n.jsx("div",{className:`h-full flex items-center justify-center ${x}`,children:(0,n.jsxs)("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[--color-brand]"}),n.jsx("p",{className:"mt-2 text-neutral-600",children:"Loading..."})]})}):(0,n.jsxs)("div",{className:`h-full flex flex-col bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 shadow-sm ${x}`,children:[o&&n.jsx("div",{className:"flex-none p-4 border-b border-neutral-200 dark:border-neutral-700",children:(0,n.jsxs)("div",{className:"relative",children:[n.jsx(s.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400",size:16}),n.jsx("input",{type:"text",placeholder:p,value:h,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg  bg-white dark:bg-neutral-800 focus:ring-2 focus:ring-[--color-brand] focus:border-transparent text-sm"})]})}),n.jsx("div",{className:"flex-1 min-h-0 overflow-auto",children:(0,n.jsxs)("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-neutral-50 dark:bg-neutral-800 sticky top-0 z-10",children:(0,n.jsxs)("tr",{children:[t.map((e,t)=>n.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider
                    ${e.sortable?"cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-700":""}
                    ${e.width?"":"min-w-0"}`,style:e.width?{width:e.width,minWidth:e.width}:{},onClick:e.sortable?()=>w(String(e.key)):void 0,children:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"truncate",children:e.label}),e.sortable&&f?.key===e.key&&n.jsx("span",{className:"text-[--color-brand] flex-shrink-0",children:"asc"===f.direction?"↑":"↓"})]})},t)),a&&a.length>0&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider w-32",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:0===v.length?n.jsx("tr",{children:n.jsx("td",{colSpan:t.length+(a?1:0),className:"px-4 py-8 text-center text-neutral-500 dark:text-neutral-400",children:m})}):v.map((e,r)=>(0,n.jsxs)("tr",{className:"hover:bg-neutral-50 dark:hover:bg-neutral-800/50",children:[t.map((t,a)=>n.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900 dark:text-neutral-100",style:t.width?{width:t.width,minWidth:t.width}:{},children:n.jsx("div",{className:"min-w-0",children:k(e,t)})},a)),a&&a.length>0&&n.jsx("td",{className:"px-4 py-3 text-sm w-32",children:n.jsx("div",{className:"flex gap-1 flex-wrap",children:a.map((t,a)=>(0,n.jsxs)(l.default,{onClick:()=>t.onClick(e),className:`btn-sm whitespace-nowrap ${"danger"===t.variant?"btn-danger":"secondary"===t.variant?"btn-secondary":"btn-primary"}`,disabled:t.disabled?.(e),title:t.label,children:[t.icon&&n.jsx("span",{className:"mr-1",children:t.icon}),n.jsx("span",{className:"hidden sm:inline",children:t.label}),n.jsx("span",{className:"sm:hidden",children:t.icon})]},a))})})]},r))})]})}),u&&(0,n.jsxs)("div",{className:"flex-none px-4 py-3 border-t border-neutral-200 dark:border-neutral-700 flex items-center justify-between bg-neutral-50 dark:bg-neutral-800",children:[(0,n.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Page ",u.currentPage," of ",u.totalPages]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)(l.default,{onClick:()=>u.onPageChange(u.currentPage-1),disabled:u.currentPage<=1,className:"btn-sm btn-secondary",children:[n.jsx(i.Z,{size:16}),n.jsx("span",{className:"hidden sm:inline ml-1",children:"Previous"})]}),(0,n.jsxs)(l.default,{onClick:()=>u.onPageChange(u.currentPage+1),disabled:u.currentPage>=u.totalPages,className:"btn-sm btn-secondary",children:[n.jsx("span",{className:"hidden sm:inline mr-1",children:"Next"}),n.jsx(d,{size:16})]})]})]})]})}},4893:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let n=(0,a(2881).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},3855:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let n=(0,a(2881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1405:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let n=(0,a(2881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8307:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let n=(0,a(2881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9508:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let n=(0,a(2881).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4019:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let n=(0,a(2881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},912:(e,t,a)=>{"use strict";a.d(t,{q:()=>s});var n=a(2374);class r{async getConfigurationOverview(){return(await n.x.get("/api/admin/configuration/overview")).data}async getCacheStats(){return(await n.x.get("/api/admin/configuration/cache/stats")).data}async reloadCache(){return(await n.x.post("/api/admin/configuration/cache/reload")).data}async getVersions(){return(await n.x.get("/api/admin/intent-config/versions")).data}async createVersion(e){return(await n.x.post("/api/admin/intent-config/versions",e)).data}async promoteVersion(e){return(await n.x.post(`/api/admin/intent-config/versions/${e}/promote`)).data}async archiveVersion(e){return(await n.x.post(`/api/admin/intent-config/versions/${e}/archive`)).data}async getPatterns(e,t){let a=new URLSearchParams;return t?.handler&&a.append("handler",t.handler),t?.intent&&a.append("intent",t.intent),t?.kind&&a.append("kind",t.kind),(await n.x.get(`/api/admin/intent-config/versions/${e}/patterns?${a.toString()}`)).data}async createPattern(e,t){return(await n.x.post(`/api/admin/intent-config/versions/${e}/patterns`,t)).data}async updatePattern(e,t){return(await n.x.put(`/api/admin/intent-config/patterns/${e}`,t)).data}async deletePattern(e){return(await n.x.delete(`/api/admin/intent-config/patterns/${e}`)).data}async enablePattern(e){return(await n.x.post(`/api/admin/intent-config/patterns/${e}/enable`)).data}async testPatternWithPhrases(e,t){return(await n.x.post(`/api/admin/intent-config/patterns/${e}/test-phrases`,t)).data}async improvePattern(e,t,a){return(await n.x.post(`/api/admin/intent-config/patterns/${e}/improve`,{missed_phrases:t,false_positives:a})).data}async testPattern(e,t){return(await n.x.post(`/api/admin/intent-config/patterns/${e}/test`,{test_message:t})).data}async getTemplates(e,t){let a=new URLSearchParams;return t?.handler&&a.append("handler",t.handler),t?.template_type&&a.append("template_type",t.template_type),(await n.x.get(`/api/admin/intent-config/versions/${e}/templates?${a.toString()}`)).data}async createTemplate(e,t){return(await n.x.post(`/api/admin/intent-config/versions/${e}/templates`,t)).data}async updateTemplate(e,t){return(await n.x.put(`/api/admin/intent-config/templates/${e}`,t)).data}async deleteTemplate(e){return(await n.x.delete(`/api/admin/intent-config/templates/${e}`)).data}async enableTemplate(e){return(await n.x.post(`/api/admin/intent-config/templates/${e}/enable`)).data}async testClassify(e){return(await n.x.post("/api/admin/intent-config/test-classify",e)).data}async reloadConfig(){return(await n.x.post("/api/admin/intent-config/reload")).data}async getStats(){return(await n.x.get("/api/admin/intent-config/stats")).data}async getAvailableHandlers(){return(await n.x.get("/api/admin/intent-config/handlers")).data}async getAvailableIntents(e){let t=e?`?handler=${e}`:"";return(await n.x.get(`/api/admin/intent-config/intents${t}`)).data}async getPatternKinds(){return(await n.x.get("/api/admin/intent-config/pattern-kinds")).data}async getTemplateTypes(){return(await n.x.get("/api/admin/intent-config/template-types")).data}async generateRegexFromPhrases(e){console.log("\uD83D\uDD0D Sending regex generation request:",e);try{let t=await n.x.post("/api/admin/intent-config/generate-regex",e);console.log("\uD83D\uDD0D Raw API response:",t.data);let a={phrases:t.data.phrases||e.phrases,intent:t.data.intent||e.intent,pattern_kind:t.data.pattern_kind||e.pattern_kind||"positive",generated_regex:t.data.generated_regex||t.data.regex||"",confidence:t.data.confidence||0,explanation:t.data.explanation||"",test_matches:t.data.test_matches||[],errors:t.data.errors||[]};return console.log("\uD83D\uDD0D Processed regex generation response:",a),a}catch(e){throw console.error("❌ Regex generation API error:",e),e}}async exportConfiguration(e,t){return(await n.x.get(`/api/admin/intent-config/versions/${e}/export?format=${t}`,{responseType:"blob"})).data}async validateConfiguration(e){return(await n.x.post(`/api/admin/intent-config/versions/${e}/validate`)).data}}let s=new r},596:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>s,default:()=>d});var n=a(8570);let r=(0,n.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/admin/layout.tsx`),{__esModule:s,$$typeof:i}=r;r.default;let d=(0,n.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/admin/layout.tsx#default`)}};