(()=>{var e={};e.id=966,e.ids=[966],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7529:()=>{},7970:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(9791),s(7449),s(5866);var r=s(3191),a=s(8716),o=s(7922),i=s.n(o),n=s(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c=["",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9791)),"/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/signup/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7449)),"/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/signup/page.tsx"],u="/signup/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/signup/page",pathname:"/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2189:(e,t,s)=>{Promise.resolve().then(s.bind(s,3136))},2710:(e,t,s)=>{Promise.resolve().then(s.bind(s,7722))},1625:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},7722:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(326),a=s(434),o=s(5047),i=s(7577),n=s(3136),l=s(130),c=s(3991),d=s(286),u=s(3983),h=s(3679);function m(){let e=(0,o.useRouter)(),t=(0,o.useSearchParams)().get("next")||"/",{login:s,setSchoolId:m}=(0,n.a)(),[x,p]=(0,i.useState)(""),[g,v]=(0,i.useState)(""),[f,j]=(0,i.useState)(""),[w,_]=(0,i.useState)(""),[b,y]=(0,i.useState)(null),[S,k]=(0,i.useState)(!1);async function P(r){if(r.preventDefault(),y(null),f!==w){y("Passwords do not match");return}k(!0);try{let r=await l.O.signup({full_name:x,email:g,password:f}),a=r?.access_token;if(!a)throw console.error("Signup response:",r),Error("No access token returned");await s({token:a});let o=r?.school_id??null;o?(m(o),e.replace(t)):e.replace(`/onboarding/school?next=${encodeURIComponent(t)}`)}catch(e){console.error("Signup error:",e),y(e?.response?.data?.detail||e?.message||"Sign up failed")}finally{k(!1)}}let N=!f||!w||f===w;return(0,r.jsxs)(c.Z,{title:"Create your account",subtitle:"Start organizing your school",children:[(0,r.jsxs)("form",{onSubmit:P,className:"space-y-4",noValidate:!0,children:[r.jsx(d.Z,{id:"full-name",label:"Full name",value:x,onChange:e=>p(e.target.value),placeholder:"Jane Doe",autoComplete:"name",required:!0}),r.jsx(d.Z,{id:"signup-email",label:"Email",type:"email",value:g,onChange:e=>v(e.target.value),placeholder:"you@example.com",autoComplete:"email",required:!0}),r.jsx(u.Z,{id:"signup-password",label:"Password",value:f,onChange:e=>j(e.target.value),placeholder:"Password",helperText:"Use at least 6 characters.",autoComplete:"new-password",required:!0}),r.jsx(u.Z,{id:"confirm-password",label:"Confirm password",value:w,onChange:e=>_(e.target.value),placeholder:"Password",autoComplete:"new-password",required:!0,error:f&&w&&f!==w?"Passwords do not match":null}),r.jsx(h.Z,{className:"w-full",disabled:S||!N,children:S?"Creatingâ€¦":"Create account"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm mt-4",children:[(0,r.jsxs)("span",{className:"opacity-80",children:["Already have an account? ",r.jsx(a.default,{className:"link",href:"/login",children:"Sign in"})]}),r.jsx(a.default,{href:"/forgot-password",className:"link",children:"Forgot password?"})]}),b&&r.jsx("p",{className:"error-text mt-3",role:"alert","aria-live":"polite",children:b})]})}function x(){return r.jsx(i.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:r.jsx(m,{})})}},3991:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(326),a=s(246);function o(){return r.jsx("nav",{className:"w-full",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center h-16",children:[r.jsx("div",{className:"w-full md:w-auto flex justify-center md:justify-start",children:r.jsx(a.D2,{})}),r.jsx("div",{className:"hidden md:flex items-center space-x-4 ml-auto"})]})})})}function i({children:e,title:t,subtitle:s}){return(0,r.jsxs)("div",{className:"min-h-screen",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 z-10",children:r.jsx(o,{})}),r.jsx("div",{className:"min-h-screen flex items-center justify-center px-6 py-12",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"mb-8 text-center",children:[r.jsx("h1",{className:"text-3xl font-semibold mb-2",children:t}),s&&r.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400",children:s})]}),r.jsx("div",{className:"card p-6",children:e})]})})]})}},3679:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(326),a=s(1135);function o({className:e,children:t,...s}){return r.jsx("button",{className:(0,a.Z)("btn-primary",e),...s,children:t})}},246:(e,t,s)=>{"use strict";s.d(t,{D2:()=>u,K7:()=>h,ZP:()=>d});var r=s(326),a=s(434),o=s(9360),i=s(1135);let n=(0,o.j)("flex items-center gap-3",{variants:{size:{sm:"",md:"",lg:""}},defaultVariants:{size:"sm"}}),l=(0,o.j)("relative rounded-xl bg-gradient-to-br from-[#1f7daf] to-[#104f73] grid place-items-center text-white font-bold shadow-lg ring-2 ring-[#1f7daf]/20",{variants:{size:{sm:"h-9 w-9 text-lg",md:"h-12 w-12 text-xl",lg:"h-16 w-16 text-2xl"}},defaultVariants:{size:"sm"}}),c=(0,o.j)("font-semibold bg-gradient-to-r from-[#1f7daf] to-[#104f73] bg-clip-text text-transparent",{variants:{size:{sm:"text-xl",md:"text-2xl",lg:"text-3xl"}},defaultVariants:{size:"sm"}});function d({size:e="sm",href:t="/",className:s,showText:o=!0}){let d=(0,r.jsxs)("div",{className:(0,i.Z)(n({size:e}),s),children:[r.jsx("div",{className:l({size:e}),children:r.jsx("span",{className:"drop-shadow-sm",children:"O"})}),o&&r.jsx("span",{className:c({size:e}),children:"Olaji"})]});return t?r.jsx(a.default,{href:t,children:d}):d}function u({className:e}){return r.jsx(d,{size:"sm",className:e})}function h({size:e="sm",className:t}){return r.jsx(d,{size:e,showText:!1,href:void 0,className:t})}},3983:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(326),a=s(7577),o=s(1216),i=s(2714),n=s(286);function l(e){let[t,s]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.Z,{...e,type:t?"text":"password"}),r.jsx("button",{type:"button",onClick:()=>s(e=>!e),"aria-label":t?"Hide password":"Show password",className:"absolute right-3 top-[38px] text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200 transition-colors",children:t?r.jsx(o.Z,{size:18}):r.jsx(i.Z,{size:18})})]})}},286:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(326),a=s(1135);function o({id:e,label:t,type:s="text",value:o,onChange:i,placeholder:n,required:l,error:c,helperText:d,autoComplete:u}){return(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:e,className:"label",children:t}),r.jsx("input",{id:e,type:s,value:o,onChange:i,placeholder:n,autoComplete:u,required:l,"aria-invalid":!!c,"aria-describedby":c?`${e}-error`:d?`${e}-help`:void 0,className:(0,a.Z)("input",c&&"input-invalid")}),c?r.jsx("p",{id:`${e}-error`,role:"alert",className:"error-text mt-1",children:c}):d?r.jsx("p",{id:`${e}-help`,className:"helper mt-1",children:d}):null]})}},3136:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>n,a:()=>l});var r=s(326),a=s(7577),o=s(5047);let i=(0,a.createContext)({token:null,active_school_id:null,isLoading:!0,login:async()=>{},logout:()=>{},setSchoolId:()=>{},isAuthenticated:!1});function n({children:e}){let[t,s]=(0,a.useState)({token:null,active_school_id:null,isLoading:!0}),n=(0,o.useRouter)(),l=async e=>{localStorage.setItem("token",e.token),s(t=>({...t,token:e.token,isLoading:!1}))},c={...t,login:l,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("active_school_id"),s({token:null,active_school_id:null,isLoading:!1}),n.replace("/login")},setSchoolId:e=>{localStorage.setItem("active_school_id",e),s(t=>({...t,active_school_id:e}))},isAuthenticated:!!t.token&&!t.isLoading};return r.jsx(i.Provider,{value:c,children:e})}let l=()=>(0,a.useContext)(i)},1216:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},2714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2374:(e,t,s)=>{"use strict";s.d(t,{h:()=>r});let r=s(4099).Z.create({baseURL:"http://localhost:8000",timeout:2e4});r.interceptors.request.use(e=>e),r.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(console.error("Unauthorized request detected"),localStorage.removeItem("token"),localStorage.removeItem("active_school_id"),window.location.href="/login"),Promise.reject(e)))},130:(e,t,s)=>{"use strict";s.d(t,{O:()=>a});var r=s(2374);let a={async signup(e){let{data:t}=await r.h.post("/api/auth/register",e);return t.access_token&&localStorage.setItem("token",t.access_token),t.school_id&&localStorage.setItem("active_school_id",String(t.school_id)),{access_token:t.access_token,school_id:t.school_id}},async login(e){let{data:t}=await r.h.post("/api/auth/login",e);return t.access_token&&localStorage.setItem("token",t.access_token),t.school_id&&localStorage.setItem("active_school_id",String(t.school_id)),{access_token:t.access_token,school_id:t.school_id}},logout(){localStorage.removeItem("token"),localStorage.removeItem("active_school_id")}}},7449:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>c});var r=s(9510);s(7272),s(1159);var a=s(8570);let o=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/contexts/AuthContext.tsx`),{__esModule:i,$$typeof:n}=o;o.default;let l=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/contexts/AuthContext.tsx#AuthProvider`);(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/contexts/AuthContext.tsx#useAuth`);let c={title:"School Chat Alpha"};function d({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"min-h-svh bg-neutral-50 text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 antialiased",children:r.jsx(l,{children:e})})})}},9791:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>n});var r=s(8570);let a=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/signup/page.tsx`),{__esModule:o,$$typeof:i}=a;a.default;let n=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/signup/page.tsx#default`)},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[845,99,784],()=>s(7970));module.exports=r})();