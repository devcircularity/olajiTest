(()=>{var e={};e.id=307,e.ids=[307],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8375:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(6509),r(1959),r(5866),r(7449);var s=r(3191),a=r(8716),l=r(7922),n=r.n(l),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["(workspace)",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6509)),"/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/(workspace)/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1959)),"/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/(workspace)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7449)),"/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/(workspace)/page.tsx"],u="/(workspace)/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(workspace)/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7979:(e,t,r)=>{Promise.resolve().then(r.bind(r,4820))},4820:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(326),a=r(7577),l=r(5047),n=r(3136),i=r(434);function o({open:e,onClose:t,onLogout:r,userLabel:a,email:l,schoolId:n}){if(!e)return null;let i=(a||l||"U").slice(0,1).toUpperCase();return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-[90] bg-black/40 backdrop-blur-[2px]",onClick:t}),(0,s.jsxs)("div",{className:"fixed right-4 top-16 z-[100] w-[360px] sm:w-[380px] rounded-[1.25rem] card border border-neutral-200/60 overflow-hidden shadow-[var(--shadow-soft)]",onClick:e=>e.stopPropagation(),role:"dialog","aria-modal":"true",children:[(0,s.jsxs)("div",{className:"relative px-4 py-3 bg-neutral-900/5 dark:bg-white/5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-[--color-brand] text-white font-semibold",children:i}),(0,s.jsxs)("div",{className:"min-w-0",children:[l&&s.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:l}),s.jsx("div",{className:"text-sm font-medium truncate",children:a||"User"})]})]}),s.jsx("button",{onClick:t,className:"absolute right-3 top-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200","aria-label":"Close",children:"✕"})]}),(0,s.jsxs)("div",{className:"px-5 pt-4 pb-3",children:[(0,s.jsxs)("div",{className:"text-lg font-semibold",children:["Hi",a?`, ${a.split(" ")[0]}!`:"!"]}),s.jsx("button",{className:"mt-3 btn-primary w-full rounded-xl py-2.5",onClick:()=>alert("Manage account (stub)"),children:"Manage your Account"})]}),s.jsx("div",{className:"mx-4 mb-3 rounded-2xl bg-neutral-100 dark:bg-neutral-800 p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-xl leading-none",children:"\uD83C\uDFE0"}),(0,s.jsxs)("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:"Set your school & year"}),s.jsx("div",{className:"text-neutral-600 dark:text-neutral-400",children:"Pick active school and academic year for better results."}),(0,s.jsxs)("div",{className:"mt-2 flex gap-3",children:[s.jsx("button",{className:"btn rounded-lg px-3 py-1.5 hover:bg-neutral-200 dark:hover:bg-neutral-700",children:"Dismiss"}),s.jsx("button",{className:"link-subtle",children:"Open settings"})]})]})]})}),s.jsx("div",{className:"px-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{className:"btn rounded-xl px-3 py-2 bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700",onClick:()=>alert("Add account (stub)"),children:"+ Add account"}),s.jsx("button",{className:"btn rounded-xl px-3 py-2 bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700",onClick:()=>{t(),r()},children:"Sign out"})]})}),s.jsx("div",{className:"mt-3 px-2 pb-2",children:(0,s.jsxs)("ul",{className:"grid gap-2",children:[s.jsx("li",{children:(0,s.jsxs)("button",{className:"w-full text-left rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800",children:["\uD83D\uDD0E ",s.jsx("span",{className:"ml-2",children:"Search history"}),s.jsx("span",{className:"float-right text-xs text-neutral-500",children:"Not saving"})]})}),s.jsx("li",{children:(0,s.jsxs)("button",{className:"w-full text-left rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800",children:["\uD83D\uDCC1 ",s.jsx("span",{className:"ml-2",children:"Saves & Collections"})]})}),s.jsx("li",{children:(0,s.jsxs)("button",{className:"w-full text-left rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800",children:["✨ ",s.jsx("span",{className:"ml-2",children:"Search personalization"})]})}),(0,s.jsxs)("li",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("button",{className:"rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 text-left",children:["\uD83D\uDEE1️ ",s.jsx("span",{className:"ml-2",children:"SafeSearch"}),s.jsx("div",{className:"text-xs text-neutral-500 ml-7 -mt-1",children:"Blurring on"})]}),(0,s.jsxs)("button",{className:"rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 text-left",children:["\uD83C\uDF10 ",s.jsx("span",{className:"ml-2",children:"Language"}),s.jsx("div",{className:"text-xs text-neutral-500 ml-7 -mt-1",children:"English"})]})]}),(0,s.jsxs)("li",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("button",{className:"rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 text-left",children:["⚙️ ",s.jsx("span",{className:"ml-2",children:"More settings"})]}),(0,s.jsxs)("button",{className:"rounded-xl px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 text-left",children:["❔ ",s.jsx("span",{className:"ml-2",children:"Help"})]})]})]})}),(0,s.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400 border-t border-neutral-200/70 dark:border-white/10",children:[s.jsx("div",{children:"Privacy Policy"}),s.jsx("div",{children:"Terms of Service"})]})]})]})}function c(){let{token:e,active_school_id:t,logout:r}=(0,n.a)(),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),x=(0,a.useRef)(null),m=(0,a.useMemo)(()=>(function(e){if(!e)return null;try{let t=e.split(".")[1]?.replace(/-/g,"+").replace(/_/g,"/"),r=atob(t);return JSON.parse(r)}catch{return null}})(e||void 0),[e]),p=m?.full_name,h=m?.email,b=p||h||"Guest",g=function(e,t){let r=(e||"").trim();return r?r.split(/\s+/).slice(0,2).map(e=>e[0]?.toUpperCase()||"").join("")||"U":t&&t[0]?.toUpperCase()||"U"}(p,h),v=t??m?.active_school_id;return(0,s.jsxs)("header",{className:"flex items-center justify-end px-4 py-3",children:[s.jsx("div",{className:"flex-1"}),e?(0,s.jsxs)("div",{className:"relative",ref:x,children:[s.jsx("button",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>c(!0),className:"inline-flex h-10 w-10 items-center justify-center  rounded-full bg-[--color-brand] text-white font-semibold text-sm shadow-lg hover:shadow-xl ring-2 ring-[--color-brand]/30 dark:ring-[--color-brand]/40 border-2 border-[--color-brand-light]/50 hover:scale-105 active:scale-95 transition-all duration-200 ease-out","aria-label":"User menu",title:b,children:g}),d&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 card px-3 py-2 text-xs min-w-[200px] z-50",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[s.jsx("div",{className:"font-medium truncate",children:b}),h&&s.jsx("div",{className:"text-neutral-600 dark:text-neutral-400 truncate",children:h})]}),s.jsx(o,{open:l,onClose:()=>c(!1),onLogout:r,userLabel:b,email:h||void 0,schoolId:v})]}):(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx(i.default,{className:"link-subtle",href:"/login",children:"Login"}),s.jsx(i.default,{className:"link-subtle",href:"/signup",children:"Sign up"})]})]})}var d=r(798);function u(){let{isAuthenticated:e}=(0,d.x)(),t=(0,l.useRouter)(),[r,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)(""),u=(0,a.useRef)(null),x=async e=>{let s=(e??i).trim();if(s&&!r){n(!0);try{sessionStorage.setItem("chat-new-initial",s),t.push("/chat/new")}catch(e){console.error("Failed to create chat:",e)}finally{n(!1)}}},m=e=>{o(e),u.current?.focus()},p=({label:e,prompt:t})=>s.jsx("button",{onClick:()=>m(t),className:"rounded-xl bg-neutral-200/70 px-4 py-2 text-sm dark:bg-neutral-800/80 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition disabled:opacity-60",disabled:r,children:e});return e?(0,s.jsxs)("div",{className:"min-h-[calc(100vh-0px)] grid grid-rows-[auto_1fr_auto]",children:[s.jsx(c,{}),s.jsx("main",{className:"grid place-items-center",children:(0,s.jsxs)("div",{className:"w-full max-w-3xl px-4",children:[s.jsx("div",{className:"text-center select-none mb-6",children:(0,s.jsxs)("div",{className:"text-[52px] sm:text-[64px] font-semibold tracking-tight",children:[s.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:"School"})," ",s.jsx("span",{style:{color:"var(--color-brand)"},children:"Chat"})]})}),(0,s.jsxs)("div",{className:"mx-auto max-w-2xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 rounded-full border border-neutral-300/70 dark:border-white/10 bg-white/80 dark:bg-neutral-900/70 px-4 py-3 shadow-[var(--shadow-soft)]",children:[s.jsx("span",{className:"text-neutral-500",children:"⌕"}),s.jsx("input",{ref:u,value:i,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&x()},placeholder:"Ask your school… e.g., create class P4 East",className:"w-full bg-transparent outline-none text-sm sm:text-base",disabled:r,"aria-label":"Search or chat"}),s.jsx("button",{onClick:()=>x(),className:"rounded-full px-4 py-2 text-sm text-white bg-[--color-brand] hover:bg-[--color-brand-dark] transition disabled:opacity-60",disabled:r||!i.trim(),children:r?"…":"Search"})]}),(0,s.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-3",children:[s.jsx("button",{onClick:()=>m("help me get started with school management"),className:"rounded-xl bg-neutral-200/70 px-4 py-2 text-sm dark:bg-neutral-800/80 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition disabled:opacity-60",disabled:r,children:"School Chat Search"}),s.jsx("button",{onClick:()=>m("help"),className:"rounded-xl bg-neutral-200/70 px-4 py-2 text-sm dark:bg-neutral-800/80 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition disabled:opacity-60",disabled:r,children:"I'm Feeling Curious"})]}),(0,s.jsxs)("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-2",children:[s.jsx(p,{label:"Create Class",prompt:"create class P4 East"}),s.jsx(p,{label:"List Students",prompt:"list students"}),s.jsx(p,{label:"Enroll Student",prompt:"enroll student John Doe admission 123 into P4 East"}),s.jsx(p,{label:"Create Invoice",prompt:"create invoice for student 123 amount 15000"}),s.jsx(p,{label:"Record Payment",prompt:"record payment invoice 1 amount 15000"})]})]})]})}),s.jsx("footer",{className:"text-xs text-neutral-600 dark:text-neutral-400 border-t border-neutral-200/70 dark:border-white/10",children:(0,s.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-3 flex flex-col sm:flex-row gap-2 sm:gap-0 sm:items-center sm:justify-between",children:[s.jsx("div",{children:"Kenya"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("a",{className:"link-subtle",href:"#",children:"Privacy"}),s.jsx("a",{className:"link-subtle",href:"#",children:"Terms"}),s.jsx("a",{className:"link-subtle",href:"#",children:"About"})]})]})})]}):null}},6509:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var s=r(8570);let a=(0,s.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/(workspace)/page.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let i=(0,s.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/(workspace)/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[845,99,784,189,436],()=>r(8375));module.exports=s})();