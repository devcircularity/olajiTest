(()=>{var e={};e.id=689,e.ids=[689],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8454:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>o}),s(1307),s(1959),s(5866),s(7449);var r=s(3191),a=s(8716),l=s(7922),n=s.n(l),i=s(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let o=["",{children:["(workspace)",{children:["school",{children:["[schoolId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1307)),"/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/(workspace)/school/[schoolId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1959)),"/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/(workspace)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,7449)),"/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/(workspace)/school/[schoolId]/page.tsx"],u="/(workspace)/school/[schoolId]/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(workspace)/school/[schoolId]/page",pathname:"/school/[schoolId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6020:(e,t,s)=>{Promise.resolve().then(s.bind(s,8381))},8381:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(326),a=s(7577),l=s(5047);s(4986);var n=s(3136),i=s(2881);let c=(0,i.Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),o=(0,i.Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),d=(0,i.Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),u=(0,i.Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),x=(0,i.Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var h=s(6968);function m(){let e;(0,l.useParams)().schoolId;let{isAuthenticated:t,isLoading:s,token:i}=(0,n.a)(),[m,p]=(0,a.useState)(null),[g,v]=(0,a.useState)(null),[b,j]=(0,a.useState)(!0),[f,N]=(0,a.useState)(null);if(s)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(c,{className:"w-6 h-6 animate-spin text-blue-600"}),r.jsx("span",{className:"text-lg",children:"Initializing..."})]})});if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Authentication Required"}),r.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Please log in to view school information."})]})});if(b)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(c,{className:"w-6 h-6 animate-spin text-blue-600"}),r.jsx("span",{className:"text-lg",children:"Loading school overview..."})]})});if(f)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Error"}),r.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:f})]})});let y=[{label:"Total Students",value:g?.students||0,icon:o,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{label:"Classes",value:g?.classes||0,icon:d,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20"},{label:"Fees Collected",value:(e=g?.feesCollected||0,new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(e)),icon:u,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20"},{label:"Pending Invoices",value:g?.pendingInvoices||0,icon:x,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20"}];return(0,r.jsxs)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-950",children:[r.jsx("div",{className:"bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-800",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded-xl bg-blue-100 dark:bg-blue-900/30",children:r.jsx(h.Z,{className:"w-8 h-8 text-blue-600"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:m?.name||"School Overview"}),r.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Manage your school's academic and administrative operations"})]})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:y.map((e,t)=>{let s=e.icon;return r.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow duration-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-400 mb-1",children:e.label}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:e.value})]}),r.jsx("div",{className:`p-3 rounded-lg ${e.bgColor}`,children:r.jsx(s,{className:`w-6 h-6 ${e.color}`})})]})},t)})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"card p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Academic Management"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("button",{className:"w-full text-left p-4 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors border border-neutral-200 dark:border-neutral-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(o,{className:"w-5 h-5 text-blue-600"}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium",children:"Manage Students"}),r.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Add, edit, and organize student records"})]})]})}),r.jsx("button",{className:"w-full text-left p-4 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors border border-neutral-200 dark:border-neutral-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(d,{className:"w-5 h-5 text-green-600"}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium",children:"Manage Classes"}),r.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Create and organize class structures"})]})]})})]})]}),(0,r.jsxs)("div",{className:"card p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Financial Management"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("button",{className:"w-full text-left p-4 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors border border-neutral-200 dark:border-neutral-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(u,{className:"w-5 h-5 text-purple-600"}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium",children:"Fee Management"}),r.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Set up fee structures and track payments"})]})]})}),r.jsx("button",{className:"w-full text-left p-4 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors border border-neutral-200 dark:border-neutral-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(x,{className:"w-5 h-5 text-orange-600"}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium",children:"Invoices & Reports"}),r.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Generate invoices and financial reports"})]})]})})]})]})]}),r.jsx("div",{className:"mt-8",children:(0,r.jsxs)("div",{className:"card p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Recent Activity"}),(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-neutral-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(h.Z,{className:"w-8 h-8 text-neutral-400"})}),r.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Recent school activities will appear here"})]})]})})]})]})}},4986:(e,t,s)=>{"use strict";s.d(t,{TX:()=>l,Yu:()=>a});var r=s(2374);let a={async list(){let{data:e}=await r.h.get("/api/schools");return e},async mine(){let{data:e}=await r.h.get("/api/schools/mine");return e},async getActive(){let{data:e}=await r.h.get("/api/schools/active");return e},async create(e){let{data:t}=await r.h.post("/api/schools",e);return t},async get(e){let{data:t}=await r.h.get(`/api/schools/${e}`);return t},async getOverview(e){let{data:t}=await r.h.get("/api/schools/overview",{headers:{"X-School-ID":e}});return t},async update(e,t){let{data:s}=await r.h.put(`/api/schools/${e}`,t);return s},async getMobileDevices(e){let{data:t}=await r.h.get("/api/mobile/status",{headers:{"X-School-ID":e}});return t},async removeMobileDevice(e,t){let{data:s}=await r.h.delete(`/api/mobile/status/${t}`,{headers:{"X-School-ID":e}});return s},async getAllSchoolDevices(e){let{data:t}=await r.h.get("/api/mobile/debug/all-devices",{headers:{"X-School-ID":e}});return t}},l=a.create;a.list,a.get,a.getOverview,a.update,a.getMobileDevices,a.removeMobileDevice,a.getAllSchoolDevices},1307:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var r=s(8570);let a=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/(workspace)/school/[schoolId]/page.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let i=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/doneFrontend/app/(workspace)/school/[schoolId]/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[845,99,784,189,436],()=>s(8454));module.exports=r})();