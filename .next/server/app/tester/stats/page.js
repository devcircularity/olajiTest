(()=>{var e={};e.id=910,e.ids=[910],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7053:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>o,originalPathname:()=>c,pages:()=>x,routeModule:()=>p,tree:()=>m}),s(8586),s(9602),s(7449),s(5866);var a=s(3191),r=s(8716),i=s(7922),l=s.n(i),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let m=["",{children:["tester",{children:["stats",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8586)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/stats/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9602)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,7449)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/stats/page.tsx"],c="/tester/stats/page",o={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/tester/stats/page",pathname:"/tester/stats",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},299:(e,t,s)=>{Promise.resolve().then(s.bind(s,2152))},8389:(e,t,s)=>{Promise.resolve().then(s.bind(s,2942))},2152:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(326);s(7577);var r=s(3136),i=s(5047),l=s(7231);function n({children:e}){let{user:t,isLoading:s,isAuthenticated:n}=(0,r.a)();return((0,i.useRouter)(),s)?a.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-neutral-900",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading..."})]})}):n&&t&&(t.permissions?.is_tester||t.permissions?.is_admin||t.permissions?.is_super_admin||t.roles?.includes("TESTER")||t.roles?.includes("ADMIN")||t.roles?.includes("SUPER_ADMIN"))?a.jsx(l.Z,{children:e}):null}s(506)},2942:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(326),r=s(7577),i=s(3136),l=s(7750),n=s(617),d=s(2881);let m=(0,d.Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var x=s(6697),c=s(949);let o=(0,d.Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var p=s(7069),u=s(3679);function g(){let{user:e}=(0,i.a)(),[t,s]=(0,r.useState)(null),[d,g]=(0,r.useState)(!0),[h,b]=(0,r.useState)(7),[y,f]=(0,r.useState)([]),j=async()=>{try{g(!0);let e=await l.g.getStats({days_back:h});s(e)}catch(e){console.error("Failed to load stats:",e)}finally{g(!1)}},_=(e,t)=>t>0?(e/t*100).toFixed(1):"0.0",N=(e,t=!1)=>t?e<5?"text-green-600":e<10?"text-yellow-600":"text-red-600":e<5?"text-green-600":e<15?"text-yellow-600":"text-red-600";return e?.permissions?.is_tester||e?.permissions?.is_admin||e?.permissions?.is_super_admin?(0,a.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-2",children:"Tester Analytics"}),a.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Detailed analytics and trends for AI response quality"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4",children:[(0,a.jsxs)("select",{value:h,onChange:e=>b(Number(e.target.value)),className:"input w-full sm:w-32 text-sm",children:[a.jsx("option",{value:1,children:"Last 24h"}),a.jsx("option",{value:3,children:"Last 3 days"}),a.jsx("option",{value:7,children:"Last week"}),a.jsx("option",{value:14,children:"Last 2 weeks"}),a.jsx("option",{value:30,children:"Last month"})]}),a.jsx(u.default,{onClick:j,className:"btn-secondary text-sm",children:"Refresh"})]})]}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[a.jsx(n.Z,{className:"text-blue-600 flex-shrink-0",size:20}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Total Messages"}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-neutral-500",children:["In ",h," days"]})]})]}),a.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600 mb-2",children:t.total_messages}),a.jsx("div",{className:"text-xs sm:text-sm text-neutral-600",children:(0,a.jsxs)("span",{className:N(100,!1),children:[(t.total_messages/h).toFixed(1)," per day avg"]})})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[a.jsx(m,{className:"text-red-600 flex-shrink-0",size:20}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Negative Feedback"}),a.jsx("p",{className:"text-xs sm:text-sm text-neutral-500",children:"User thumbs down"})]})]}),a.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-2",children:t.negative_ratings}),a.jsx("div",{className:"text-xs sm:text-sm",children:(0,a.jsxs)("span",{className:N(parseFloat(_(t.negative_ratings,t.total_messages)),!0),children:[_(t.negative_ratings,t.total_messages),"% of messages"]})})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[a.jsx(x.Z,{className:"text-orange-600 flex-shrink-0",size:20}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Fallback Rate"}),a.jsx("p",{className:"text-xs sm:text-sm text-neutral-500",children:"Default responses"})]})]}),a.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-orange-600 mb-2",children:t.fallback_used}),a.jsx("div",{className:"text-xs sm:text-sm",children:(0,a.jsxs)("span",{className:N(parseFloat(_(t.fallback_used,t.total_messages)),!0),children:[_(t.fallback_used,t.total_messages),"% of messages"]})})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[a.jsx(c.Z,{className:"text-yellow-600 flex-shrink-0",size:20}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Low Confidence"}),a.jsx("p",{className:"text-xs sm:text-sm text-neutral-500",children:"Classification issues"})]})]}),a.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-yellow-600 mb-2",children:t.low_confidence}),a.jsx("div",{className:"text-xs sm:text-sm",children:(0,a.jsxs)("span",{className:N(parseFloat(_(t.low_confidence,t.total_messages)),!0),children:[_(t.low_confidence,t.total_messages),"% of messages"]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("h2",{className:"text-base sm:text-lg font-semibold mb-4 sm:mb-6 text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[a.jsx(o,{size:18}),"Issues by Type"]}),(0,a.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-red-800 dark:text-red-200 text-sm sm:text-base",children:"Negative Ratings"}),a.jsx("p",{className:"text-xs sm:text-sm text-red-600 dark:text-red-300",children:"Users gave thumbs down"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-red-600",children:t.by_issue_type.negative_rating}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-red-600",children:[_(t.by_issue_type.negative_rating,t.needs_attention),"% of issues"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-orange-800 dark:text-orange-200 text-sm sm:text-base",children:"Fallback Used"}),a.jsx("p",{className:"text-xs sm:text-sm text-orange-600 dark:text-orange-300",children:"Default response triggered"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:t.by_issue_type.fallback}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-orange-600",children:[_(t.by_issue_type.fallback,t.needs_attention),"% of issues"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-yellow-800 dark:text-yellow-200 text-sm sm:text-base",children:"Low Confidence"}),a.jsx("p",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-300",children:"Intent classification unclear"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:t.by_issue_type.low_confidence}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-yellow-600",children:[_(t.by_issue_type.low_confidence,t.needs_attention),"% of issues"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-purple-800 dark:text-purple-200 text-sm sm:text-base",children:"Unhandled"}),a.jsx("p",{className:"text-xs sm:text-sm text-purple-600 dark:text-purple-300",children:"No appropriate handler found"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:t.by_issue_type.unhandled}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-purple-600",children:[_(t.by_issue_type.unhandled,t.needs_attention),"% of issues"]})]})]})]})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("h2",{className:"text-base sm:text-lg font-semibold mb-4 sm:mb-6 text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[a.jsx(p.Z,{size:18}),"Priority Distribution"]}),(0,a.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-red-800 dark:text-red-200 text-sm sm:text-base",children:"High Priority"}),a.jsx("p",{className:"text-xs sm:text-sm text-red-600 dark:text-red-300",children:"Needs immediate attention"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-red-600",children:t.by_priority.high}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-red-600",children:[_(t.by_priority.high,t.needs_attention),"% of queue"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-yellow-800 dark:text-yellow-200 text-sm sm:text-base",children:"Medium Priority"}),a.jsx("p",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-300",children:"Should be addressed soon"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:t.by_priority.medium}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-yellow-600",children:[_(t.by_priority.medium,t.needs_attention),"% of queue"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-gray-50 dark:bg-gray-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm sm:text-base",children:"Low Priority"}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Minor improvements"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-600",children:t.by_priority.low}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:[_(t.by_priority.low,t.needs_attention),"% of queue"]})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2 text-sm sm:text-base",children:"System Health Score"}),a.jsx("div",{className:"flex items-center gap-2",children:(()=>{let e=Math.max(0,100-t.needs_attention/t.total_messages*200);return(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:`text-2xl sm:text-3xl font-bold ${e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600"}`,children:e.toFixed(0)}),a.jsx("span",{className:"text-blue-700 dark:text-blue-300 text-sm sm:text-base",children:"/ 100"})]})})()}),a.jsx("p",{className:"text-xs sm:text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Based on error rates and user feedback"})]})]})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6 mb-6 sm:mb-8",children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-4 sm:mb-6 text-neutral-900 dark:text-neutral-100",children:"Trends Over Time"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("div",{className:"min-w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm font-medium text-neutral-600 dark:text-neutral-400 pb-2 border-b border-neutral-200 dark:border-neutral-700",children:[a.jsx("span",{className:"min-w-0 flex-1",children:"Date"}),a.jsx("span",{className:"min-w-0 flex-1 text-center",children:"Messages"}),a.jsx("span",{className:"min-w-0 flex-1 text-center",children:"Issues"}),a.jsx("span",{className:"min-w-0 flex-1 text-right",children:"Issue Rate"})]}),y.slice(-7).map((e,t)=>{let s=e.negative_ratings+e.fallback_used+e.low_confidence,r=s/e.total_messages*100;return(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-neutral-200 dark:border-neutral-700",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium min-w-0 flex-1",children:e.date}),a.jsx("span",{className:"text-xs sm:text-sm min-w-0 flex-1 text-center",children:e.total_messages}),a.jsx("span",{className:"text-xs sm:text-sm min-w-0 flex-1 text-center",children:s}),(0,a.jsxs)("span",{className:`text-xs sm:text-sm font-medium min-w-0 flex-1 text-right ${N(r,!0)}`,children:[r.toFixed(1),"%"]})]},t)})]})})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4 text-neutral-900 dark:text-neutral-100",children:"Recommended Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[t.by_priority.high>0&&(0,a.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[a.jsx(c.Z,{className:"text-red-600 mt-0.5 flex-shrink-0",size:16}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("p",{className:"font-medium text-red-800 dark:text-red-200 text-sm sm:text-base",children:[t.by_priority.high," high priority issues need attention"]}),a.jsx("p",{className:"text-xs sm:text-sm text-red-600 dark:text-red-300",children:"Review the problem queue and create suggestions for the most critical issues."})]})]}),t.by_issue_type.negative_rating/t.total_messages>.05&&(0,a.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[a.jsx(m,{className:"text-orange-600 mt-0.5 flex-shrink-0",size:16}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("p",{className:"font-medium text-orange-800 dark:text-orange-200 text-sm sm:text-base",children:["High negative feedback rate (",_(t.by_issue_type.negative_rating,t.total_messages),"%)"]}),a.jsx("p",{className:"text-xs sm:text-sm text-orange-600 dark:text-orange-300",children:"Focus on improving response quality through better prompt templates."})]})]}),t.by_issue_type.fallback/t.total_messages>.1&&(0,a.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[a.jsx(x.Z,{className:"text-yellow-600 mt-0.5 flex-shrink-0",size:16}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("p",{className:"font-medium text-yellow-800 dark:text-yellow-200 text-sm sm:text-base",children:["High fallback usage (",_(t.by_issue_type.fallback,t.total_messages),"%)"]}),a.jsx("p",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-300",children:"Consider adding more regex patterns and intent mappings."})]})]}),0===t.by_priority.high&&t.negative_ratings<5&&(0,a.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx(p.Z,{className:"text-green-600 mt-0.5 flex-shrink-0",size:16}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-green-800 dark:text-green-200 text-sm sm:text-base",children:"System is performing well"}),a.jsx("p",{className:"text-xs sm:text-sm text-green-600 dark:text-green-300",children:"Continue monitoring for new issues and opportunities for improvement."})]})]})]})]})]})]}):a.jsx("div",{className:"p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-neutral-600",children:"You don't have permission to view tester analytics."})]})})}},3679:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(326),r=s(1135);function i({className:e,children:t,...s}){return a.jsx("button",{className:(0,r.Z)("btn-primary",e),...s,children:t})}},7069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},949:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7750:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var a=s(2374);class r{async getQueue(e={}){let t=new URLSearchParams;return e.priority&&t.append("priority",e.priority.toString()),e.issue_type&&t.append("issue_type",e.issue_type),e.limit&&t.append("limit",e.limit.toString()),e.days_back&&t.append("days_back",e.days_back.toString()),e.school_id&&t.append("school_id",e.school_id),void 0!==e.show_suggested&&t.append("show_suggested",e.show_suggested.toString()),(await a.x.get(`/api/tester/queue?${t.toString()}`)).data}async getConversation(e,t){try{let s=t?`?message_id=${t}`:"";return(await a.x.get(`/api/tester/conversation/${e}${s}`)).data}catch(s){if(s.response?.status===404)try{let s=(await a.x.get(`/api/chat/conversations/${e}/messages`)).data.map(e=>({id:e.id||e.message_id,content:e.content||e.user_message||e.assistant_response,role:"USER"===e.message_type?"user":"assistant",timestamp:e.created_at,intent:e.intent,rating:e.rating,processing_time_ms:e.processing_time_ms,is_problematic:!!t&&(e.id===t||e.message_id===t)}));if(t){let e=s.findIndex(e=>e.id===t);if(e>0){let t=s.slice(0,e).reverse().find(e=>"user"===e.role),a=s[e];return t?[t,a]:[a]}return s.filter(e=>e.id===t)}return s}catch(e){throw Error("Unable to load conversation. This feature may not be available yet.")}throw s}}async submitSuggestion(e){let t={user_query:"regex_pattern",ai_response:"prompt_template",regex_pattern:"regex_pattern",prompt_template:"prompt_template",intent_mapping:"intent_mapping",handler_improvement:"handler_improvement"}[e.suggestion_type]||e.suggestion_type,s={message_id:e.message_id,routing_log_id:e.routing_log_id,suggestion_type:t,title:e.title,description:e.description,handler:e.handler,intent:e.intent,pattern:e.pattern,template_text:e.template_text,priority:e.priority||"medium",tester_note:e.tester_note};return(await a.x.post("/api/tester/suggestions",s)).data}async getMySuggestions(e={}){let t=new URLSearchParams;return e.limit&&t.append("limit",e.limit.toString()),e.status&&t.append("status",e.status),e.suggestion_type&&t.append("suggestion_type",e.suggestion_type),(await a.x.get(`/api/tester/suggestions?${t.toString()}`)).data}async getStats(e={}){let t=new URLSearchParams;return e.days_back&&t.append("days_back",e.days_back.toString()),e.school_id&&t.append("school_id",e.school_id),(await a.x.get(`/api/tester/stats?${t.toString()}`)).data}async getFilters(){return(await a.x.get("/api/tester/filters")).data}getSuggestionTypes(){return[{value:"regex_pattern",label:"Regex Pattern",description:"Add or improve message classification patterns"},{value:"prompt_template",label:"Prompt Template",description:"Improve response templates for better answers"},{value:"intent_mapping",label:"Intent Mapping",description:"Better intent classification for specific handlers"},{value:"handler_improvement",label:"Handler Improvement",description:"General handler behavior improvements"}]}getPriorityLevels(){return[{value:"critical",label:"Critical",description:"Urgent fixes for broken responses"},{value:"high",label:"High",description:"Important improvements for common issues"},{value:"medium",label:"Medium",description:"General improvements and optimizations"},{value:"low",label:"Low",description:"Minor enhancements and edge cases"}]}getIssueTypeLabels(){return{negative_rating:"User gave thumbs down",fallback:"Fallback response used",low_confidence:"Low classification confidence",unhandled:"Unhandled intent"}}getPriorityLabels(){return{1:"High",2:"Medium",3:"Low"}}getPriorityColor(e){switch(e){case 1:return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case 2:return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}}getIssueTypeColor(e){switch(e){case"negative_rating":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case"fallback":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200";case"low_confidence":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";case"unhandled":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}}getSuggestionStatusColor(e){switch(e){case"pending":default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200";case"approved":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200";case"rejected":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case"implemented":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200"}}}let i=new r},9602:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var a=s(8570);let r=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx`),{__esModule:i,$$typeof:l}=r;r.default;let n=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx#default`)},8586:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var a=s(8570);let r=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/stats/page.tsx`),{__esModule:i,$$typeof:l}=r;r.default;let n=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/stats/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[226,328,657,480],()=>s(7053));module.exports=a})();