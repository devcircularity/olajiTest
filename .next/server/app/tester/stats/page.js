(()=>{var e={};e.id=910,e.ids=[910],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7053:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>o,originalPathname:()=>c,pages:()=>m,routeModule:()=>p,tree:()=>x}),t(8586),t(9602),t(7449),t(5866);var a=t(3191),r=t(8716),l=t(7922),i=t.n(l),n=t(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let x=["",{children:["tester",{children:["stats",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8586)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/stats/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9602)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7449)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/stats/page.tsx"],c="/tester/stats/page",o={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/tester/stats/page",pathname:"/tester/stats",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:x}})},299:(e,s,t)=>{Promise.resolve().then(t.bind(t,2152))},8389:(e,s,t)=>{Promise.resolve().then(t.bind(t,5108))},2152:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(326),r=t(7577),l=t(3136),i=t(5047),n=t(2281);function d({children:e}){let{user:s,isLoading:t,isAuthenticated:d}=(0,l.a)();(0,i.useRouter)();let[x,m]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!1);return t?a.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-neutral-900",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading..."})]})}):d&&s&&(s.permissions?.is_tester||s.permissions?.is_admin||s.permissions?.is_super_admin||s.roles?.includes("TESTER")||s.roles?.includes("ADMIN")||s.roles?.includes("SUPER_ADMIN"))?(0,a.jsxs)("div",{className:"flex h-screen bg-neutral-50 dark:bg-neutral-950",children:[c&&!x&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>m(!0)}),a.jsx("div",{className:`
        ${c?"fixed top-0 left-0 h-full z-50":"relative"}
        ${c&&x?"-translate-x-full":"translate-x-0"}
        transition-transform duration-300 ease-in-out
      `,children:a.jsx(n.Z,{collapsed:x,onCollapse:m,isMobile:c})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[c&&x&&a.jsx("div",{className:"lg:hidden bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-800 px-4 py-3",children:a.jsx("button",{onClick:()=>m(!1),className:"p-2 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",title:"Open sidebar",children:(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[a.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),a.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),a.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}),a.jsx("main",{className:"flex-1 overflow-hidden bg-white dark:bg-neutral-900",children:a.jsx("div",{className:"h-full overflow-y-auto",children:e})})]})]}):null}},5108:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(326),r=t(7577),l=t(3136),i=t(7750),n=t(617);let d=(0,t(2881).Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var x=t(6697),m=t(949),c=t(6754),o=t(7069),p=t(3679);function u(){let{user:e}=(0,l.a)(),[s,t]=(0,r.useState)(null),[u,g]=(0,r.useState)(!0),[h,b]=(0,r.useState)(7),[f,y]=(0,r.useState)([]),j=async()=>{try{g(!0);let e=await i.g.getStats({days_back:h});t(e)}catch(e){console.error("Failed to load stats:",e)}finally{g(!1)}},N=(e,s)=>s>0?(e/s*100).toFixed(1):"0.0",v=(e,s=!1)=>s?e<5?"text-green-600":e<10?"text-yellow-600":"text-red-600":e<5?"text-green-600":e<15?"text-yellow-600":"text-red-600";return e?.permissions?.is_tester||e?.permissions?.is_admin||e?.permissions?.is_super_admin?(0,a.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-2",children:"Tester Analytics"}),a.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Detailed analytics and trends for AI response quality"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4",children:[(0,a.jsxs)("select",{value:h,onChange:e=>b(Number(e.target.value)),className:"input w-full sm:w-32 text-sm",children:[a.jsx("option",{value:1,children:"Last 24h"}),a.jsx("option",{value:3,children:"Last 3 days"}),a.jsx("option",{value:7,children:"Last week"}),a.jsx("option",{value:14,children:"Last 2 weeks"}),a.jsx("option",{value:30,children:"Last month"})]}),a.jsx(p.Z,{onClick:j,className:"btn-secondary text-sm",children:"Refresh"})]})]}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[a.jsx(n.Z,{className:"text-blue-600 flex-shrink-0",size:20}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Total Messages"}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-neutral-500",children:["In ",h," days"]})]})]}),a.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600 mb-2",children:s.total_messages}),a.jsx("div",{className:"text-xs sm:text-sm text-neutral-600",children:(0,a.jsxs)("span",{className:v(100,!1),children:[(s.total_messages/h).toFixed(1)," per day avg"]})})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[a.jsx(d,{className:"text-red-600 flex-shrink-0",size:20}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Negative Feedback"}),a.jsx("p",{className:"text-xs sm:text-sm text-neutral-500",children:"User thumbs down"})]})]}),a.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-2",children:s.negative_ratings}),a.jsx("div",{className:"text-xs sm:text-sm",children:(0,a.jsxs)("span",{className:v(parseFloat(N(s.negative_ratings,s.total_messages)),!0),children:[N(s.negative_ratings,s.total_messages),"% of messages"]})})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[a.jsx(x.Z,{className:"text-orange-600 flex-shrink-0",size:20}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Fallback Rate"}),a.jsx("p",{className:"text-xs sm:text-sm text-neutral-500",children:"Default responses"})]})]}),a.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-orange-600 mb-2",children:s.fallback_used}),a.jsx("div",{className:"text-xs sm:text-sm",children:(0,a.jsxs)("span",{className:v(parseFloat(N(s.fallback_used,s.total_messages)),!0),children:[N(s.fallback_used,s.total_messages),"% of messages"]})})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[a.jsx(m.Z,{className:"text-yellow-600 flex-shrink-0",size:20}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Low Confidence"}),a.jsx("p",{className:"text-xs sm:text-sm text-neutral-500",children:"Classification issues"})]})]}),a.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-yellow-600 mb-2",children:s.low_confidence}),a.jsx("div",{className:"text-xs sm:text-sm",children:(0,a.jsxs)("span",{className:v(parseFloat(N(s.low_confidence,s.total_messages)),!0),children:[N(s.low_confidence,s.total_messages),"% of messages"]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("h2",{className:"text-base sm:text-lg font-semibold mb-4 sm:mb-6 text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[a.jsx(c.Z,{size:18}),"Issues by Type"]}),(0,a.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-red-800 dark:text-red-200 text-sm sm:text-base",children:"Negative Ratings"}),a.jsx("p",{className:"text-xs sm:text-sm text-red-600 dark:text-red-300",children:"Users gave thumbs down"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-red-600",children:s.by_issue_type.negative_rating}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-red-600",children:[N(s.by_issue_type.negative_rating,s.needs_attention),"% of issues"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-orange-800 dark:text-orange-200 text-sm sm:text-base",children:"Fallback Used"}),a.jsx("p",{className:"text-xs sm:text-sm text-orange-600 dark:text-orange-300",children:"Default response triggered"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:s.by_issue_type.fallback}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-orange-600",children:[N(s.by_issue_type.fallback,s.needs_attention),"% of issues"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-yellow-800 dark:text-yellow-200 text-sm sm:text-base",children:"Low Confidence"}),a.jsx("p",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-300",children:"Intent classification unclear"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:s.by_issue_type.low_confidence}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-yellow-600",children:[N(s.by_issue_type.low_confidence,s.needs_attention),"% of issues"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-purple-800 dark:text-purple-200 text-sm sm:text-base",children:"Unhandled"}),a.jsx("p",{className:"text-xs sm:text-sm text-purple-600 dark:text-purple-300",children:"No appropriate handler found"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:s.by_issue_type.unhandled}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-purple-600",children:[N(s.by_issue_type.unhandled,s.needs_attention),"% of issues"]})]})]})]})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[(0,a.jsxs)("h2",{className:"text-base sm:text-lg font-semibold mb-4 sm:mb-6 text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[a.jsx(o.Z,{size:18}),"Priority Distribution"]}),(0,a.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-red-800 dark:text-red-200 text-sm sm:text-base",children:"High Priority"}),a.jsx("p",{className:"text-xs sm:text-sm text-red-600 dark:text-red-300",children:"Needs immediate attention"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-red-600",children:s.by_priority.high}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-red-600",children:[N(s.by_priority.high,s.needs_attention),"% of queue"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-yellow-800 dark:text-yellow-200 text-sm sm:text-base",children:"Medium Priority"}),a.jsx("p",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-300",children:"Should be addressed soon"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:s.by_priority.medium}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-yellow-600",children:[N(s.by_priority.medium,s.needs_attention),"% of queue"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-gray-50 dark:bg-gray-900/20 rounded-lg gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm sm:text-base",children:"Low Priority"}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Minor improvements"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-600",children:s.by_priority.low}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:[N(s.by_priority.low,s.needs_attention),"% of queue"]})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2 text-sm sm:text-base",children:"System Health Score"}),a.jsx("div",{className:"flex items-center gap-2",children:(()=>{let e=Math.max(0,100-s.needs_attention/s.total_messages*200);return(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:`text-2xl sm:text-3xl font-bold ${e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600"}`,children:e.toFixed(0)}),a.jsx("span",{className:"text-blue-700 dark:text-blue-300 text-sm sm:text-base",children:"/ 100"})]})})()}),a.jsx("p",{className:"text-xs sm:text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Based on error rates and user feedback"})]})]})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6 mb-6 sm:mb-8",children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-4 sm:mb-6 text-neutral-900 dark:text-neutral-100",children:"Trends Over Time"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("div",{className:"min-w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm font-medium text-neutral-600 dark:text-neutral-400 pb-2 border-b border-neutral-200 dark:border-neutral-700",children:[a.jsx("span",{className:"min-w-0 flex-1",children:"Date"}),a.jsx("span",{className:"min-w-0 flex-1 text-center",children:"Messages"}),a.jsx("span",{className:"min-w-0 flex-1 text-center",children:"Issues"}),a.jsx("span",{className:"min-w-0 flex-1 text-right",children:"Issue Rate"})]}),f.slice(-7).map((e,s)=>{let t=e.negative_ratings+e.fallback_used+e.low_confidence,r=t/e.total_messages*100;return(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-neutral-200 dark:border-neutral-700",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium min-w-0 flex-1",children:e.date}),a.jsx("span",{className:"text-xs sm:text-sm min-w-0 flex-1 text-center",children:e.total_messages}),a.jsx("span",{className:"text-xs sm:text-sm min-w-0 flex-1 text-center",children:t}),(0,a.jsxs)("span",{className:`text-xs sm:text-sm font-medium min-w-0 flex-1 text-right ${v(r,!0)}`,children:[r.toFixed(1),"%"]})]},s)})]})})]}),(0,a.jsxs)("div",{className:"card p-4 sm:p-6",children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4 text-neutral-900 dark:text-neutral-100",children:"Recommended Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[s.by_priority.high>0&&(0,a.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[a.jsx(m.Z,{className:"text-red-600 mt-0.5 flex-shrink-0",size:16}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("p",{className:"font-medium text-red-800 dark:text-red-200 text-sm sm:text-base",children:[s.by_priority.high," high priority issues need attention"]}),a.jsx("p",{className:"text-xs sm:text-sm text-red-600 dark:text-red-300",children:"Review the problem queue and create suggestions for the most critical issues."})]})]}),s.by_issue_type.negative_rating/s.total_messages>.05&&(0,a.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[a.jsx(d,{className:"text-orange-600 mt-0.5 flex-shrink-0",size:16}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("p",{className:"font-medium text-orange-800 dark:text-orange-200 text-sm sm:text-base",children:["High negative feedback rate (",N(s.by_issue_type.negative_rating,s.total_messages),"%)"]}),a.jsx("p",{className:"text-xs sm:text-sm text-orange-600 dark:text-orange-300",children:"Focus on improving response quality through better prompt templates."})]})]}),s.by_issue_type.fallback/s.total_messages>.1&&(0,a.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[a.jsx(x.Z,{className:"text-yellow-600 mt-0.5 flex-shrink-0",size:16}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("p",{className:"font-medium text-yellow-800 dark:text-yellow-200 text-sm sm:text-base",children:["High fallback usage (",N(s.by_issue_type.fallback,s.total_messages),"%)"]}),a.jsx("p",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-300",children:"Consider adding more regex patterns and intent mappings."})]})]}),0===s.by_priority.high&&s.negative_ratings<5&&(0,a.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx(o.Z,{className:"text-green-600 mt-0.5 flex-shrink-0",size:16}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-green-800 dark:text-green-200 text-sm sm:text-base",children:"System is performing well"}),a.jsx("p",{className:"text-xs sm:text-sm text-green-600 dark:text-green-300",children:"Continue monitoring for new issues and opportunities for improvement."})]})]})]})]})]})]}):a.jsx("div",{className:"p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-neutral-600",children:"You don't have permission to view tester analytics."})]})})}},3679:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(326),r=t(1135);function l({className:e,children:s,...t}){return a.jsx("button",{className:(0,r.Z)("btn-primary",e),...t,children:s})}},7069:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},949:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7750:(e,s,t)=>{"use strict";t.d(s,{g:()=>l});var a=t(2374);class r{async getQueue(e={}){let s=new URLSearchParams;return e.priority&&s.append("priority",e.priority.toString()),e.issue_type&&s.append("issue_type",e.issue_type),e.limit&&s.append("limit",e.limit.toString()),e.days_back&&s.append("days_back",e.days_back.toString()),e.school_id&&s.append("school_id",e.school_id),(await a.x.get(`/api/tester/queue?${s.toString()}`)).data}async submitSuggestion(e){return(await a.x.post("/api/tester/suggestions",e)).data}async getMySuggestions(e={}){let s=new URLSearchParams;return e.limit&&s.append("limit",e.limit.toString()),e.status&&s.append("status",e.status),e.suggestion_type&&s.append("suggestion_type",e.suggestion_type),(await a.x.get(`/api/tester/suggestions?${s.toString()}`)).data}async getStats(e={}){let s=new URLSearchParams;return e.days_back&&s.append("days_back",e.days_back.toString()),e.school_id&&s.append("school_id",e.school_id),(await a.x.get(`/api/tester/stats?${s.toString()}`)).data}async getFilters(){return(await a.x.get("/api/tester/filters")).data}getSuggestionTypes(){return[{value:"regex_pattern",label:"Regex Pattern",description:"Add or improve message classification patterns"},{value:"prompt_template",label:"Prompt Template",description:"Improve response templates for better answers"},{value:"intent_mapping",label:"Intent Mapping",description:"Better intent classification for specific handlers"},{value:"handler_improvement",label:"Handler Improvement",description:"General handler behavior improvements"}]}getPriorityLevels(){return[{value:"critical",label:"Critical",description:"Urgent fixes for broken responses"},{value:"high",label:"High",description:"Important improvements for common issues"},{value:"medium",label:"Medium",description:"General improvements and optimizations"},{value:"low",label:"Low",description:"Minor enhancements and edge cases"}]}getIssueTypeLabels(){return{negative_rating:"User gave thumbs down",fallback:"Fallback response used",low_confidence:"Low classification confidence",unhandled:"Unhandled intent"}}getPriorityLabels(){return{1:"High",2:"Medium",3:"Low"}}getPriorityColor(e){switch(e){case 1:return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case 2:return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}}getIssueTypeColor(e){switch(e){case"negative_rating":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case"fallback":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200";case"low_confidence":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";case"unhandled":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}}getSuggestionStatusColor(e){switch(e){case"pending":default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200";case"approved":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200";case"rejected":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case"implemented":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200"}}}let l=new r},9602:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var a=t(8570);let r=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx`),{__esModule:l,$$typeof:i}=r;r.default;let n=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx#default`)},8586:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var a=t(8570);let r=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/stats/page.tsx`),{__esModule:l,$$typeof:i}=r;r.default;let n=(0,a.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/stats/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[226,784,392],()=>t(7053));module.exports=a})();