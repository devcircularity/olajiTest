(()=>{var e={};e.id=362,e.ids=[362],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},2210:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),s(920),s(9602),s(7449),s(5866);var r=s(3191),a=s(8716),l=s(7922),i=s.n(l),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["tester",{children:["suggestions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,920)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/suggestions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9602)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,7449)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/suggestions/page.tsx"],x="/tester/suggestions/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/tester/suggestions/page",pathname:"/tester/suggestions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},299:(e,t,s)=>{Promise.resolve().then(s.bind(s,2152))},8994:(e,t,s)=>{Promise.resolve().then(s.bind(s,6192))},2152:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(326),a=s(7577),l=s(3136),i=s(5047),n=s(2281);function d({children:e}){let{user:t,isLoading:s,isAuthenticated:d}=(0,l.a)();(0,i.useRouter)();let[c,o]=(0,a.useState)(!1),[x,m]=(0,a.useState)(!1);return s?r.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-neutral-900",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading..."})]})}):d&&t&&(t.permissions?.is_tester||t.permissions?.is_admin||t.permissions?.is_super_admin||t.roles?.includes("TESTER")||t.roles?.includes("ADMIN")||t.roles?.includes("SUPER_ADMIN"))?(0,r.jsxs)("div",{className:"flex h-screen bg-neutral-50 dark:bg-neutral-950",children:[x&&!c&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>o(!0)}),r.jsx("div",{className:`
        ${x?"fixed top-0 left-0 h-full z-50":"relative"}
        ${x&&c?"-translate-x-full":"translate-x-0"}
        transition-transform duration-300 ease-in-out
      `,children:r.jsx(n.Z,{collapsed:c,onCollapse:o,isMobile:x})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[x&&c&&r.jsx("div",{className:"lg:hidden bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-800 px-4 py-3",children:r.jsx("button",{onClick:()=>o(!1),className:"p-2 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",title:"Open sidebar",children:(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),r.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}),r.jsx("main",{className:"flex-1 overflow-hidden bg-white dark:bg-neutral-900",children:r.jsx("div",{className:"h-full overflow-y-auto",children:e})})]})]}):null}},6192:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(326),a=s(7577),l=s(3136),i=s(7750),n=s(2607),d=s(8998),c=s(361),o=s(2881);let x=(0,o.Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),m=(0,o.Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var u=s(949),p=s(2714),g=s(1405),h=s(3855),b=s(9561),j=s(3679);function v(){let{user:e}=(0,l.a)(),[t,s]=(0,a.useState)([]),[o,v]=(0,a.useState)(!0),[y,f]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[w,_]=(0,a.useState)(null),[S,P]=(0,a.useState)(!1),Z=async()=>{try{v(!0);let e={limit:50,...y&&{status:y},...N&&{suggestion_type:N}},t=await i.g.getMySuggestions(e);s(t)}catch(e){console.error("Failed to load suggestions:",e)}finally{v(!1)}},A=async e=>{try{P(!0),_(e);let t={...e,description:"Sample description for this suggestion...",pattern:"regex_pattern"===e.suggestion_type?"(?i)\\b(homework|assignment)\\b.*\\b(help|assist)":void 0,template_text:"prompt_template"===e.suggestion_type?"Improved template text...":void 0,tester_note:"Additional context from tester...",original_message:"Sample user message that triggered this suggestion",assistant_response:"Sample AI response that had issues"};_(t)}catch(e){console.error("Failed to load suggestion details:",e)}finally{P(!1)}},C=e=>{switch(e){case"pending":return r.jsx(d.Z,{className:"text-gray-500",size:16});case"approved":return r.jsx(c.Z,{className:"text-green-600",size:16});case"rejected":return r.jsx(x,{className:"text-red-600",size:16});case"implemented":return r.jsx(m,{className:"text-purple-600",size:16});default:return r.jsx(u.Z,{className:"text-yellow-600",size:16})}},z=[{key:"created_at",label:"Submitted",render:e=>{let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/864e5);return 0===s?"Today":1===s?"Yesterday":s<7?`${s} days ago`:t.toLocaleDateString()},width:"100px",sortable:!0},{key:"title",label:"Title",render:e=>r.jsx("div",{className:"max-w-sm",children:r.jsx("div",{className:"font-medium truncate",title:e,children:e})})},{key:"suggestion_type",label:"Type",render:e=>r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"regex_pattern"===e?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200":"prompt_template"===e?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"intent_mapping"===e?"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200":"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200"}`,children:e.replace("_"," ")}),width:"140px"},{key:"handler",label:"Handler",render:e=>r.jsx("code",{className:"text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:e}),width:"120px"},{key:"priority",label:"Priority",render:e=>r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${"critical"===e?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200":"high"===e?"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200":"medium"===e?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}`,children:e}),width:"100px"},{key:"status",label:"Status",render:(e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[C(e),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.g.getSuggestionStatusColor(e)}`,children:e})]}),width:"120px"},{key:"reviewed_at",label:"Reviewed",render:e=>e?new Date(e).toLocaleDateString():r.jsx("span",{className:"text-gray-400 text-sm",children:"Pending"}),width:"100px"}],M=[{label:"View Details",icon:r.jsx(p.Z,{size:14}),onClick:A,variant:"secondary"}],q={total:t.length,pending:t.filter(e=>"pending"===e.status).length,approved:t.filter(e=>"approved"===e.status).length,rejected:t.filter(e=>"rejected"===e.status).length,implemented:t.filter(e=>"implemented"===e.status).length};return e&&(e&&(e.permissions?.is_admin||e.permissions?.is_super_admin||e.roles?.includes("ADMIN")||e.roles?.includes("SUPER_ADMIN"))||e.permissions?.is_tester===!0||e.roles?.includes("TESTER"))?(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"My Suggestions"}),(0,r.jsxs)("p",{className:"text-neutral-600",children:["Track your submitted suggestions and their review status (",q.total," total)"]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(j.Z,{onClick:Z,className:"flex items-center gap-2 btn-secondary",children:[r.jsx(g.Z,{size:16}),"Refresh"]}),(0,r.jsxs)(j.Z,{onClick:()=>window.location.href="/tester/queue",className:"flex items-center gap-2",children:[r.jsx(h.Z,{size:16}),"Create New"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"card p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(u.Z,{className:"text-blue-600",size:16}),r.jsx("h3",{className:"text-sm font-medium text-neutral-600",children:"Total"})]}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:q.total}),r.jsx("p",{className:"text-xs text-neutral-500",children:"All suggestions"})]}),(0,r.jsxs)("div",{className:"card p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(d.Z,{className:"text-gray-600",size:16}),r.jsx("h3",{className:"text-sm font-medium text-neutral-600",children:"Pending"})]}),r.jsx("p",{className:"text-2xl font-bold text-gray-600",children:q.pending}),r.jsx("p",{className:"text-xs text-neutral-500",children:"Awaiting review"})]}),(0,r.jsxs)("div",{className:"card p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(c.Z,{className:"text-green-600",size:16}),r.jsx("h3",{className:"text-sm font-medium text-neutral-600",children:"Approved"})]}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:q.approved}),r.jsx("p",{className:"text-xs text-neutral-500",children:"Ready for implementation"})]}),(0,r.jsxs)("div",{className:"card p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(x,{className:"text-red-600",size:16}),r.jsx("h3",{className:"text-sm font-medium text-neutral-600",children:"Rejected"})]}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:q.rejected}),r.jsx("p",{className:"text-xs text-neutral-500",children:"Not approved"})]}),(0,r.jsxs)("div",{className:"card p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(m,{className:"text-purple-600",size:16}),r.jsx("h3",{className:"text-sm font-medium text-neutral-600",children:"Implemented"})]}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:q.implemented}),r.jsx("p",{className:"text-xs text-neutral-500",children:"Live in system"})]})]}),q.total>0&&r.jsx("div",{className:"card p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:"Success Rate"}),r.jsx("p",{className:"text-sm text-neutral-600",children:"Percentage of suggestions that were approved or implemented"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(()=>{let e=(q.approved+q.implemented)/q.total*100;return(0,r.jsxs)("div",{className:`text-2xl font-bold ${e>=70?"text-green-600":e>=50?"text-yellow-600":"text-red-600"}`,children:[e.toFixed(0),"%"]})})(),(0,r.jsxs)("div",{className:"text-xs text-neutral-500",children:[q.approved+q.implemented," of ",q.total]})]})]})}),r.jsx("div",{className:"card p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 items-end",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,r.jsxs)("select",{value:y,onChange:e=>f(e.target.value),className:"input w-40",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"implemented",children:"Implemented"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),(0,r.jsxs)("select",{value:N,onChange:e=>k(e.target.value),className:"input w-48",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"regex_pattern",children:"Regex Pattern"}),r.jsx("option",{value:"prompt_template",children:"Prompt Template"}),r.jsx("option",{value:"intent_mapping",children:"Intent Mapping"}),r.jsx("option",{value:"handler_improvement",children:"Handler Improvement"})]})]}),(0,r.jsxs)(j.Z,{onClick:()=>{f(""),k("")},className:"flex items-center gap-2 btn-secondary",children:[r.jsx(b.Z,{size:16}),"Clear Filters"]})]})}),r.jsx(n.Z,{data:t,columns:z,actions:M,loading:o,searchable:!0,searchPlaceholder:"Search suggestions...",emptyMessage:"No suggestions found"}),w&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>_(null)}),r.jsx("div",{className:"relative bg-white dark:bg-neutral-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:w.title}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600 mt-1",children:["Submitted on ",new Date(w.created_at).toLocaleDateString()]})]}),r.jsx(j.Z,{onClick:()=>_(null),className:"btn-secondary",children:"Close"})]}),S?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Type"}),r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:w.suggestion_type.replace("_"," ")})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Priority"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"critical"===w.priority?"bg-red-100 text-red-800":"high"===w.priority?"bg-orange-100 text-orange-800":"medium"===w.priority?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:w.priority})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Status"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[C(w.status),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.g.getSuggestionStatusColor(w.status)}`,children:w.status})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Handler"}),r.jsx("code",{className:"p-2 bg-gray-100 dark:bg-gray-800 rounded text-sm",children:w.handler})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Intent"}),r.jsx("code",{className:"p-2 bg-gray-100 dark:bg-gray-800 rounded text-sm",children:w.intent})]}),w.description&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),r.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-700 rounded-lg",children:w.description})]}),w.pattern&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Proposed Pattern"}),(0,r.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("code",{className:"text-sm font-mono",children:w.pattern}),r.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mt-2",children:"Regular expression pattern for message classification"})]})]}),w.template_text&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Proposed Template"}),(0,r.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"whitespace-pre-wrap text-sm",children:w.template_text}),r.jsx("p",{className:"text-xs text-green-600 dark:text-green-300 mt-2",children:"Improved response template"})]})]}),w.original_message&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Original Message Context"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"User Message:"}),r.jsx("p",{className:"text-sm",children:w.original_message})]}),w.assistant_response&&(0,r.jsxs)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[r.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-1",children:"AI Response (Had Issues):"}),r.jsx("p",{className:"text-sm",children:w.assistant_response})]})]})]}),w.tester_note&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Tester Note"}),r.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:w.tester_note})]}),w.reviewed_at&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Review Information"}),(0,r.jsxs)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-700 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-sm mb-2",children:[r.jsx("strong",{children:"Reviewed on:"})," ",new Date(w.reviewed_at).toLocaleDateString()]}),w.admin_note&&(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Admin Note:"}),r.jsx("div",{className:"mt-1 text-sm",children:w.admin_note})]})]})]}),"pending"===w.status&&r.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[r.jsx(d.Z,{className:"text-blue-600 mt-0.5",size:16}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Pending Review"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Your suggestion is awaiting admin review. Admins typically review suggestions within 2-3 business days. You'll be notified when it's been reviewed."})]})]})}),"approved"===w.status&&r.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[r.jsx(c.Z,{className:"text-green-600 mt-0.5",size:16}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"Approved"}),r.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Great work! Your suggestion has been approved and is ready for implementation. It will be included in the next configuration update."})]})]})}),"implemented"===w.status&&r.jsx("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[r.jsx(m,{className:"text-purple-600 mt-0.5",size:16}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-purple-800 dark:text-purple-200 mb-2",children:"Implemented"}),r.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Excellent! Your suggestion has been implemented and is now active in the system. The AI should now handle similar cases better thanks to your contribution."})]})]})}),"rejected"===w.status&&r.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[r.jsx(x,{className:"text-red-600 mt-0.5",size:16}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200 mb-2",children:"Not Approved"}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"This suggestion was not approved. Please check the admin note above for specific feedback. You can use this feedback to improve future suggestions."})]})]})}),(0,r.jsxs)("div",{className:"flex gap-4 pt-4 border-t",children:[(0,r.jsxs)(j.Z,{onClick:()=>window.location.href="/tester/queue",className:"flex items-center gap-2 btn-secondary",children:[r.jsx(h.Z,{size:16}),"Create New Suggestion"]}),"rejected"===w.status&&(0,r.jsxs)(j.Z,{onClick:()=>{alert("Feature coming soon: Create revised suggestion based on feedback")},className:"flex items-center gap-2",children:[r.jsx(g.Z,{size:16}),"Create Revised Version"]})]})]})]})})]})]}):r.jsx("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-neutral-600",children:"You don't have permission to access tester suggestions."})]})})}},3679:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(326),a=s(1135);function l({className:e,children:t,...s}){return r.jsx("button",{className:(0,a.Z)("btn-primary",e),...s,children:t})}},2607:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var r=s(326),a=s(7577),l=s(8307),i=s(1890);let n=(0,s(2881).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var d=s(3679);function c({data:e,columns:t,actions:s,loading:c=!1,searchable:o=!1,searchPlaceholder:x="Search...",pagination:m,emptyMessage:u="No data available",className:p=""}){let[g,h]=(0,a.useState)(""),[b,j]=(0,a.useState)(null),v=o?e.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(g.toLowerCase()))):e,y=b?[...v].sort((e,t)=>{let s=e[b.key],r=t[b.key];return s<r?"asc"===b.direction?-1:1:s>r?"asc"===b.direction?1:-1:0}):v,f=e=>{j(t=>t?.key===e?{key:e,direction:"asc"===t.direction?"desc":"asc"}:{key:e,direction:"asc"})},N=(e,t)=>{let s=e[t.key];return t.render?t.render(s,e):s};return c?r.jsx("div",{className:`card ${p}`,children:(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[--color-brand]"}),r.jsx("p",{className:"mt-2 text-neutral-600",children:"Loading..."})]})}):(0,r.jsxs)("div",{className:`card ${p}`,children:[o&&r.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400",size:16}),r.jsx("input",{type:"text",placeholder:x,value:g,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg  bg-white dark:bg-neutral-800 focus:ring-2 focus:ring-[--color-brand] focus:border-transparent"})]})}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-neutral-50 dark:bg-neutral-800",children:(0,r.jsxs)("tr",{children:[t.map((e,t)=>r.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider
                    ${e.sortable?"cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-700":""}
                    ${e.width?`w-${e.width}`:""}`,onClick:e.sortable?()=>f(String(e.key)):void 0,children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[e.label,e.sortable&&b?.key===e.key&&r.jsx("span",{className:"text-[--color-brand]",children:"asc"===b.direction?"↑":"↓"})]})},t)),s&&s.length>0&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:0===y.length?r.jsx("tr",{children:r.jsx("td",{colSpan:t.length+(s?1:0),className:"px-4 py-8 text-center text-neutral-500 dark:text-neutral-400",children:u})}):y.map((e,a)=>(0,r.jsxs)("tr",{className:"hover:bg-neutral-50 dark:hover:bg-neutral-800/50",children:[t.map((t,s)=>r.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900 dark:text-neutral-100",children:N(e,t)},s)),s&&s.length>0&&r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("div",{className:"flex gap-2",children:s.map((t,s)=>(0,r.jsxs)(d.Z,{onClick:()=>t.onClick(e),className:`btn-sm ${"danger"===t.variant?"btn-danger":"secondary"===t.variant?"btn-secondary":"btn-primary"}`,disabled:t.disabled?.(e),children:[t.icon&&r.jsx("span",{className:"mr-1",children:t.icon}),t.label]},s))})})]},a))})]})}),m&&(0,r.jsxs)("div",{className:"px-4 py-3 border-t border-neutral-200 dark:border-neutral-700 flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Page ",m.currentPage," of ",m.totalPages]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(d.Z,{onClick:()=>m.onPageChange(m.currentPage-1),disabled:m.currentPage<=1,className:"btn-sm btn-secondary",children:[r.jsx(i.Z,{size:16}),"Previous"]}),(0,r.jsxs)(d.Z,{onClick:()=>m.onPageChange(m.currentPage+1),disabled:m.currentPage>=m.totalPages,className:"btn-sm btn-secondary",children:["Next",r.jsx(n,{size:16})]})]})]})]})}},361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},2714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9561:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1405:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},949:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7750:(e,t,s)=>{"use strict";s.d(t,{g:()=>l});var r=s(2374);class a{async getQueue(e={}){let t=new URLSearchParams;return e.priority&&t.append("priority",e.priority.toString()),e.issue_type&&t.append("issue_type",e.issue_type),e.limit&&t.append("limit",e.limit.toString()),e.days_back&&t.append("days_back",e.days_back.toString()),e.school_id&&t.append("school_id",e.school_id),(await r.x.get(`/api/tester/queue?${t.toString()}`)).data}async submitSuggestion(e){return(await r.x.post("/api/tester/suggestions",e)).data}async getMySuggestions(e={}){let t=new URLSearchParams;return e.limit&&t.append("limit",e.limit.toString()),e.status&&t.append("status",e.status),e.suggestion_type&&t.append("suggestion_type",e.suggestion_type),(await r.x.get(`/api/tester/suggestions?${t.toString()}`)).data}async getStats(e={}){let t=new URLSearchParams;return e.days_back&&t.append("days_back",e.days_back.toString()),e.school_id&&t.append("school_id",e.school_id),(await r.x.get(`/api/tester/stats?${t.toString()}`)).data}async getFilters(){return(await r.x.get("/api/tester/filters")).data}getSuggestionTypes(){return[{value:"regex_pattern",label:"Regex Pattern",description:"Add or improve message classification patterns"},{value:"prompt_template",label:"Prompt Template",description:"Improve response templates for better answers"},{value:"intent_mapping",label:"Intent Mapping",description:"Better intent classification for specific handlers"},{value:"handler_improvement",label:"Handler Improvement",description:"General handler behavior improvements"}]}getPriorityLevels(){return[{value:"critical",label:"Critical",description:"Urgent fixes for broken responses"},{value:"high",label:"High",description:"Important improvements for common issues"},{value:"medium",label:"Medium",description:"General improvements and optimizations"},{value:"low",label:"Low",description:"Minor enhancements and edge cases"}]}getIssueTypeLabels(){return{negative_rating:"User gave thumbs down",fallback:"Fallback response used",low_confidence:"Low classification confidence",unhandled:"Unhandled intent"}}getPriorityLabels(){return{1:"High",2:"Medium",3:"Low"}}getPriorityColor(e){switch(e){case 1:return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case 2:return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}}getIssueTypeColor(e){switch(e){case"negative_rating":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case"fallback":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200";case"low_confidence":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";case"unhandled":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}}getSuggestionStatusColor(e){switch(e){case"pending":default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200";case"approved":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200";case"rejected":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case"implemented":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200"}}}let l=new a},9602:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var r=s(8570);let a=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx`),{__esModule:l,$$typeof:i}=a;a.default;let n=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx#default`)},920:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var r=s(8570);let a=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/suggestions/page.tsx`),{__esModule:l,$$typeof:i}=a;a.default;let n=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/suggestions/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[226,784,392],()=>s(2210));module.exports=r})();