(()=>{var e={};e.id=362,e.ids=[362],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},2210:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>o}),s(920),s(9602),s(7449),s(5866);var r=s(3191),a=s(8716),n=s(7922),i=s.n(n),l=s(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["tester",{children:["suggestions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,920)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/suggestions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9602)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,7449)),"/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/suggestions/page.tsx"],p="/tester/suggestions/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/tester/suggestions/page",pathname:"/tester/suggestions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},299:(e,t,s)=>{Promise.resolve().then(s.bind(s,2152))},8994:(e,t,s)=>{Promise.resolve().then(s.bind(s,3331))},2152:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(326);s(7577);var a=s(3136),n=s(5047),i=s(7231);function l({children:e}){let{user:t,isLoading:s,isAuthenticated:l}=(0,a.a)();return((0,n.useRouter)(),s)?r.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-neutral-900",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading..."})]})}):l&&t&&(t.permissions?.is_tester||t.permissions?.is_admin||t.permissions?.is_super_admin||t.roles?.includes("TESTER")||t.roles?.includes("ADMIN")||t.roles?.includes("SUPER_ADMIN"))?r.jsx(i.Z,{children:e}):null}s(506)},3331:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(326),a=s(7577),n=s(3136),i=s(7750),l=s(2607),d=s(8998),o=s(361),c=s(9669),p=s(3634),u=s(949),x=s(2714),m=s(1405),g=s(3855),h=s(9561),b=s(4019),y=s(3679);function v(){let{user:e}=(0,n.a)(),[t,s]=(0,a.useState)([]),[v,f]=(0,a.useState)(!0),[k,j]=(0,a.useState)(""),[w,_]=(0,a.useState)(""),[N,S]=(0,a.useState)(null),P=async()=>{try{f(!0);let e={limit:50,...k&&{status:k},...w&&{suggestion_type:w}},t=await i.g.getMySuggestions(e);s(t)}catch(e){console.error("Failed to load suggestions:",e)}finally{f(!1)}},Z=e=>{switch(e){case"pending":return r.jsx(d.Z,{className:"text-gray-500",size:12});case"approved":return r.jsx(o.Z,{className:"text-green-600",size:12});case"rejected":return r.jsx(c.Z,{className:"text-red-600",size:12});case"implemented":return r.jsx(p.Z,{className:"text-purple-600",size:12});default:return r.jsx(u.Z,{className:"text-yellow-600",size:12})}},M=[{key:"created_at",label:"Time",render:e=>{let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/864e5);return 0===s?r.jsx("span",{className:"text-xs",children:"Today"}):1===s?r.jsx("span",{className:"text-xs",children:"Yesterday"}):s<7?(0,r.jsxs)("span",{className:"text-xs",children:[s,"d"]}):r.jsx("span",{className:"text-xs",children:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})})},width:"70px",sortable:!0},{key:"title",label:"Title",render:e=>r.jsx("div",{className:"max-w-xs truncate text-xs font-medium",title:e,children:e})},{key:"suggestion_type",label:"Type",render:e=>{let t={regex_pattern:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",prompt_template:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",intent_mapping:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",handler_improvement:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200"};return r.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${t[e]||t.handler_improvement}`,children:{regex_pattern:"Pattern",prompt_template:"Template",intent_mapping:"Intent",handler_improvement:"Handler"}[e]||e})},width:"80px"},{key:"handler",label:"Handler",render:e=>r.jsx("code",{className:"text-xs bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded truncate",title:e,children:e.length>12?e.substring(0,12)+"...":e}),width:"100px"},{key:"priority",label:"Pri",render:e=>{let t={critical:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200",high:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-200"};return r.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 rounded text-xs font-medium ${t[e]||t.low}`,children:{critical:"C",high:"H",medium:"M",low:"L"}[e]||"M"})},width:"40px"},{key:"status",label:"Status",render:e=>(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[Z(e),r.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${i.g.getSuggestionStatusColor(e)}`,children:{pending:"Pending",approved:"Approved",rejected:"Rejected",implemented:"Live"}[e]||e})]}),width:"100px"},{key:"reviewed_at",label:"Reviewed",render:e=>{if(!e)return r.jsx("span",{className:"text-gray-400 text-xs",children:"-"});let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/864e5);return 0===s?r.jsx("span",{className:"text-xs",children:"Today"}):1===s?r.jsx("span",{className:"text-xs",children:"Yesterday"}):s<7?(0,r.jsxs)("span",{className:"text-xs",children:[s,"d"]}):r.jsx("span",{className:"text-xs",children:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})})},width:"70px"}],A=[{label:"View",icon:r.jsx(x.Z,{size:12}),onClick:e=>{S(e)},variant:"secondary"}];return e&&(e&&(e.permissions?.is_admin||e.permissions?.is_super_admin||e.roles?.includes("ADMIN")||e.roles?.includes("SUPER_ADMIN"))||e.permissions?.is_tester===!0||e.roles?.includes("TESTER"))?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsxs)("div",{className:"flex-1 p-4 sm:p-6 overflow-auto",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-2",children:"My Suggestions"}),(0,r.jsxs)("p",{className:"text-neutral-600 text-sm sm:text-base",children:["Track and manage your submitted suggestions (",t.length," total)"]})]}),(0,r.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,r.jsxs)(y.default,{onClick:P,className:"flex items-center gap-2 btn-secondary text-sm flex-1 sm:flex-none",children:[r.jsx(m.Z,{size:16}),r.jsx("span",{children:"Refresh"})]}),(0,r.jsxs)(y.default,{onClick:()=>window.location.href="/tester/queue",className:"flex items-center gap-2 text-sm flex-1 sm:flex-none",children:[r.jsx(g.Z,{size:16}),r.jsx("span",{className:"sm:hidden",children:"New"}),r.jsx("span",{className:"hidden sm:inline",children:"Create New"})]})]})]}),r.jsx("div",{className:"card p-3 mb-4",children:(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",children:"Status"}),(0,r.jsxs)("select",{value:k,onChange:e=>j(e.target.value),className:"input w-full text-sm",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"implemented",children:"Implemented"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1",children:"Type"}),(0,r.jsxs)("select",{value:w,onChange:e=>_(e.target.value),className:"input w-full text-sm",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"regex_pattern",children:"Pattern"}),r.jsx("option",{value:"prompt_template",children:"Template"}),r.jsx("option",{value:"intent_mapping",children:"Intent"}),r.jsx("option",{value:"handler_improvement",children:"Handler"})]})]})]}),(0,r.jsxs)(y.default,{onClick:()=>{j(""),_("")},className:"flex items-center gap-2 btn-secondary text-sm w-full",children:[r.jsx(h.Z,{size:16}),"Clear Filters"]})]})}),r.jsx("div",{className:"flex-1 min-h-[500px]",children:r.jsx(l.Z,{data:t,columns:M,actions:A,loading:v,searchable:!0,searchPlaceholder:"Search suggestions...",emptyMessage:"No suggestions found",className:"text-xs"})})]}),N&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>S(null)}),r.jsx("div",{className:"relative bg-white dark:bg-neutral-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{className:"flex-1 pr-4",children:[r.jsx("h2",{className:"text-lg font-bold",children:N.title}),(0,r.jsxs)("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-1",children:["Submitted ",new Date(N.created_at).toLocaleDateString()]})]}),r.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg transition-colors flex-shrink-0",children:r.jsx(b.Z,{size:16})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:`p-3 rounded-lg border flex items-center gap-2 ${"pending"===N.status?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"approved"===N.status?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"implemented"===N.status?"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}`,children:[Z(N.status),r.jsx("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,r.jsxs)("span",{className:`font-medium text-sm ${"pending"===N.status?"text-blue-800 dark:text-blue-200":"approved"===N.status?"text-green-800 dark:text-green-200":"implemented"===N.status?"text-purple-800 dark:text-purple-200":"text-red-800 dark:text-red-200"}`,children:["pending"===N.status&&"Pending Review","approved"===N.status&&"Approved","implemented"===N.status&&"Implemented","rejected"===N.status&&"Rejected"]}),r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${"regex_pattern"===N.suggestion_type?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200":"prompt_template"===N.suggestion_type?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200"}`,children:N.suggestion_type.replace("_"," ")})]})})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-sm mb-2",children:"Your Analysis"}),r.jsx("div",{className:"text-sm bg-neutral-50 dark:bg-neutral-700 p-3 rounded",children:N.description||"Detailed analysis of the issue and suggested improvements."})]}),(N.pattern||N.template_text)&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-sm mb-2",children:"Proposed Solution"}),N.pattern&&r.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-800",children:r.jsx("code",{className:"text-xs font-mono block break-all",children:N.pattern})}),N.template_text&&r.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded border border-green-200 dark:border-green-800",children:r.jsx("div",{className:"text-xs whitespace-pre-wrap",children:N.template_text})})]}),N.admin_note&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-sm mb-2",children:"Admin Feedback"}),r.jsx("div",{className:"text-sm bg-neutral-50 dark:bg-neutral-700 p-3 rounded",children:N.admin_note})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 pt-3 border-t text-xs text-neutral-500",children:[(0,r.jsxs)("span",{children:["Priority: ",N.priority]}),N.reviewed_at&&(0,r.jsxs)("span",{children:["Reviewed ",new Date(N.reviewed_at).toLocaleDateString()]})]}),"rejected"===N.status&&r.jsx("div",{className:"pt-2",children:r.jsx(y.default,{onClick:()=>{alert("Feature coming soon: Create revised suggestion based on feedback")},className:"w-full text-sm",children:"Create Revised Version"})})]})]})})]})]}):r.jsx("div",{className:"p-4 sm:p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-neutral-600",children:"You don't have permission to access tester suggestions."})]})})}},3679:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(326),a=s(1135);function n({className:e,children:t,...s}){return r.jsx("button",{className:(0,a.Z)("btn-primary",e),...s,children:t})}},2607:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(326),a=s(7577),n=s(8307),i=s(1890);let l=(0,s(2881).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var d=s(3679);function o({data:e,columns:t,actions:s,loading:o=!1,searchable:c=!1,searchPlaceholder:p="Search...",pagination:u,emptyMessage:x="No data available",className:m=""}){let[g,h]=(0,a.useState)(""),[b,y]=(0,a.useState)(null),v=c?e.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(g.toLowerCase()))):e,f=b?[...v].sort((e,t)=>{let s=e[b.key],r=t[b.key];return s<r?"asc"===b.direction?-1:1:s>r?"asc"===b.direction?1:-1:0}):v,k=e=>{y(t=>t?.key===e?{key:e,direction:"asc"===t.direction?"desc":"asc"}:{key:e,direction:"asc"})},j=(e,t)=>{let s=e[t.key];return t.render?t.render(s,e):s};return o?r.jsx("div",{className:`h-full flex items-center justify-center ${m}`,children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[--color-brand]"}),r.jsx("p",{className:"mt-2 text-neutral-600",children:"Loading..."})]})}):(0,r.jsxs)("div",{className:`h-full flex flex-col bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 shadow-sm ${m}`,children:[c&&r.jsx("div",{className:"flex-none p-4 border-b border-neutral-200 dark:border-neutral-700",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400",size:16}),r.jsx("input",{type:"text",placeholder:p,value:g,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg  bg-white dark:bg-neutral-800 focus:ring-2 focus:ring-[--color-brand] focus:border-transparent text-sm"})]})}),r.jsx("div",{className:"flex-1 min-h-0 overflow-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-neutral-50 dark:bg-neutral-800 sticky top-0 z-10",children:(0,r.jsxs)("tr",{children:[t.map((e,t)=>r.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider
                    ${e.sortable?"cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-700":""}
                    ${e.width?"":"min-w-0"}`,style:e.width?{width:e.width,minWidth:e.width}:{},onClick:e.sortable?()=>k(String(e.key)):void 0,children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"truncate",children:e.label}),e.sortable&&b?.key===e.key&&r.jsx("span",{className:"text-[--color-brand] flex-shrink-0",children:"asc"===b.direction?"↑":"↓"})]})},t)),s&&s.length>0&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider w-32",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:0===f.length?r.jsx("tr",{children:r.jsx("td",{colSpan:t.length+(s?1:0),className:"px-4 py-8 text-center text-neutral-500 dark:text-neutral-400",children:x})}):f.map((e,a)=>(0,r.jsxs)("tr",{className:"hover:bg-neutral-50 dark:hover:bg-neutral-800/50",children:[t.map((t,s)=>r.jsx("td",{className:"px-4 py-3 text-sm text-neutral-900 dark:text-neutral-100",style:t.width?{width:t.width,minWidth:t.width}:{},children:r.jsx("div",{className:"min-w-0",children:j(e,t)})},s)),s&&s.length>0&&r.jsx("td",{className:"px-4 py-3 text-sm w-32",children:r.jsx("div",{className:"flex gap-1 flex-wrap",children:s.map((t,s)=>(0,r.jsxs)(d.default,{onClick:()=>t.onClick(e),className:`btn-sm whitespace-nowrap ${"danger"===t.variant?"btn-danger":"secondary"===t.variant?"btn-secondary":"btn-primary"}`,disabled:t.disabled?.(e),title:t.label,children:[t.icon&&r.jsx("span",{className:"mr-1",children:t.icon}),r.jsx("span",{className:"hidden sm:inline",children:t.label}),r.jsx("span",{className:"sm:hidden",children:t.icon})]},s))})})]},a))})]})}),u&&(0,r.jsxs)("div",{className:"flex-none px-4 py-3 border-t border-neutral-200 dark:border-neutral-700 flex items-center justify-between bg-neutral-50 dark:bg-neutral-800",children:[(0,r.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Page ",u.currentPage," of ",u.totalPages]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(d.default,{onClick:()=>u.onPageChange(u.currentPage-1),disabled:u.currentPage<=1,className:"btn-sm btn-secondary",children:[r.jsx(i.Z,{size:16}),r.jsx("span",{className:"hidden sm:inline ml-1",children:"Previous"})]}),(0,r.jsxs)(d.default,{onClick:()=>u.onPageChange(u.currentPage+1),disabled:u.currentPage>=u.totalPages,className:"btn-sm btn-secondary",children:[r.jsx("span",{className:"hidden sm:inline mr-1",children:"Next"}),r.jsx(l,{size:16})]})]})]})]})}},361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9669:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},2714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9561:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1405:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},949:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3634:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},7750:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var r=s(2374);class a{async getQueue(e={}){let t=new URLSearchParams;return e.priority&&t.append("priority",e.priority.toString()),e.issue_type&&t.append("issue_type",e.issue_type),e.limit&&t.append("limit",e.limit.toString()),e.days_back&&t.append("days_back",e.days_back.toString()),e.school_id&&t.append("school_id",e.school_id),void 0!==e.show_suggested&&t.append("show_suggested",e.show_suggested.toString()),(await r.x.get(`/api/tester/queue?${t.toString()}`)).data}async getConversation(e,t){try{let s=t?`?message_id=${t}`:"";return(await r.x.get(`/api/tester/conversation/${e}${s}`)).data}catch(s){if(s.response?.status===404)try{let s=(await r.x.get(`/api/chat/conversations/${e}/messages`)).data.map(e=>({id:e.id||e.message_id,content:e.content||e.user_message||e.assistant_response,role:"USER"===e.message_type?"user":"assistant",timestamp:e.created_at,intent:e.intent,rating:e.rating,processing_time_ms:e.processing_time_ms,is_problematic:!!t&&(e.id===t||e.message_id===t)}));if(t){let e=s.findIndex(e=>e.id===t);if(e>0){let t=s.slice(0,e).reverse().find(e=>"user"===e.role),r=s[e];return t?[t,r]:[r]}return s.filter(e=>e.id===t)}return s}catch(e){throw Error("Unable to load conversation. This feature may not be available yet.")}throw s}}async submitSuggestion(e){let t={user_query:"regex_pattern",ai_response:"prompt_template",regex_pattern:"regex_pattern",prompt_template:"prompt_template",intent_mapping:"intent_mapping",handler_improvement:"handler_improvement"}[e.suggestion_type]||e.suggestion_type,s={message_id:e.message_id,routing_log_id:e.routing_log_id,suggestion_type:t,title:e.title,description:e.description,handler:e.handler,intent:e.intent,pattern:e.pattern,template_text:e.template_text,priority:e.priority||"medium",tester_note:e.tester_note};return(await r.x.post("/api/tester/suggestions",s)).data}async getMySuggestions(e={}){let t=new URLSearchParams;return e.limit&&t.append("limit",e.limit.toString()),e.status&&t.append("status",e.status),e.suggestion_type&&t.append("suggestion_type",e.suggestion_type),(await r.x.get(`/api/tester/suggestions?${t.toString()}`)).data}async getStats(e={}){let t=new URLSearchParams;return e.days_back&&t.append("days_back",e.days_back.toString()),e.school_id&&t.append("school_id",e.school_id),(await r.x.get(`/api/tester/stats?${t.toString()}`)).data}async getFilters(){return(await r.x.get("/api/tester/filters")).data}getSuggestionTypes(){return[{value:"regex_pattern",label:"Regex Pattern",description:"Add or improve message classification patterns"},{value:"prompt_template",label:"Prompt Template",description:"Improve response templates for better answers"},{value:"intent_mapping",label:"Intent Mapping",description:"Better intent classification for specific handlers"},{value:"handler_improvement",label:"Handler Improvement",description:"General handler behavior improvements"}]}getPriorityLevels(){return[{value:"critical",label:"Critical",description:"Urgent fixes for broken responses"},{value:"high",label:"High",description:"Important improvements for common issues"},{value:"medium",label:"Medium",description:"General improvements and optimizations"},{value:"low",label:"Low",description:"Minor enhancements and edge cases"}]}getIssueTypeLabels(){return{negative_rating:"User gave thumbs down",fallback:"Fallback response used",low_confidence:"Low classification confidence",unhandled:"Unhandled intent"}}getPriorityLabels(){return{1:"High",2:"Medium",3:"Low"}}getPriorityColor(e){switch(e){case 1:return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case 2:return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}}getIssueTypeColor(e){switch(e){case"negative_rating":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case"fallback":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200";case"low_confidence":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";case"unhandled":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}}getSuggestionStatusColor(e){switch(e){case"pending":default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200";case"approved":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200";case"rejected":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";case"implemented":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200"}}}let n=new a},9602:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=s(8570);let a=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/layout.tsx#default`)},920:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=s(8570);let a=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/suggestions/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,r.createProxy)(String.raw`/Users/ericmwirichia/Documents/SchoolAI/admin-frontend/app/tester/suggestions/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[226,328,657,480],()=>s(2210));module.exports=r})();